import { startBot } from "./deps.ts";
import log from "./src/utils/logger.ts";
import { fileLoader, importDirectory } from "./src/utils/loader.ts";
import { updateApplicationCommands } from "./src/utils/updateCommands.ts";
import { Bot } from "./bot.ts";
log.info("Starting bot...");
await Promise.all([
    "./src/commands",
    "./src/events",
].map((path) => importDirectory(Deno.realPathSync(path))));
await fileLoader();
try {
    await updateApplicationCommands();
}
catch (error) {
    console.log(Object.getOwnPropertyNames(error));
}
await startBot(Bot);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDckMsT0FBTyxHQUFHLE1BQU0sdUJBQXVCLENBQUM7QUFDeEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUUxRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRS9CLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUc1QixNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2Y7SUFDRSxnQkFBZ0I7SUFDaEIsY0FBYztDQUVmLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQzFELENBQUM7QUFDRixNQUFNLFVBQVUsRUFBRSxDQUFDO0FBR25CLElBQUk7SUFDRixNQUFNLHlCQUF5QixFQUFFLENBQUM7Q0FDbkM7QUFBQyxPQUFPLEtBQUssRUFBRTtJQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7Q0FDL0M7QUFHRCxNQUFNLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXJ0Qm90IH0gZnJvbSBcIi4vZGVwcy50c1wiO1xuaW1wb3J0IGxvZyBmcm9tIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLnRzXCI7XG5pbXBvcnQgeyBmaWxlTG9hZGVyLCBpbXBvcnREaXJlY3RvcnkgfSBmcm9tIFwiLi9zcmMvdXRpbHMvbG9hZGVyLnRzXCI7XG5pbXBvcnQgeyB1cGRhdGVBcHBsaWNhdGlvbkNvbW1hbmRzIH0gZnJvbSBcIi4vc3JjL3V0aWxzL3VwZGF0ZUNvbW1hbmRzLnRzXCI7XG4vLyBzZXR1cCBkYlxuaW1wb3J0IHsgQm90IH0gZnJvbSBcIi4vYm90LnRzXCI7XG5cbmxvZy5pbmZvKFwiU3RhcnRpbmcgYm90Li4uXCIpO1xuXG4vLyBGb3JjZXMgZGVubyB0byByZWFkIGFsbCB0aGUgZmlsZXMgd2hpY2ggd2lsbCBmaWxsIHRoZSBjb21tYW5kcy9pbmhpYml0b3JzIGNhY2hlIGV0Yy5cbmF3YWl0IFByb21pc2UuYWxsKFxuICBbXG4gICAgXCIuL3NyYy9jb21tYW5kc1wiLFxuICAgIFwiLi9zcmMvZXZlbnRzXCIsXG4gICAgLy8gXCIuL3NyYy90YXNrc1wiLFxuICBdLm1hcCgocGF0aCkgPT4gaW1wb3J0RGlyZWN0b3J5KERlbm8ucmVhbFBhdGhTeW5jKHBhdGgpKSksXG4pO1xuYXdhaXQgZmlsZUxvYWRlcigpO1xuXG4vLyBVUERBVEVTIFlPVVIgQ09NTUFORFMgVE8gTEFURVNUIENPTU1BTkRTXG50cnkge1xuICBhd2FpdCB1cGRhdGVBcHBsaWNhdGlvbkNvbW1hbmRzKCk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmxvZyhPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcikpXG59XG5cbi8vIFNUQVJUUyBUSEUgQ09OTkVDVElPTiBUTyBESVNDT1JEXG5hd2FpdCBzdGFydEJvdChCb3QpO1xuIl19