import { requireBotGuildPermissions } from "../permissions.ts";
export function getWelcomeScreen(bot) {
    const getWelcomeScreenOld = bot.helpers.getWelcomeScreen;
    bot.helpers.getWelcomeScreen = async function(guildId) {
        const guild = bot.guilds.get(guildId);
        if (!guild?.welcomeScreen) {
            requireBotGuildPermissions(bot, guildId, [
                "MANAGE_GUILD"
            ]);
        }
        return await getWelcomeScreenOld(guildId);
    };
}
export function editWelcomeScreen(bot) {
    const editWelcomeScreenOld = bot.helpers.editWelcomeScreen;
    bot.helpers.editWelcomeScreen = async function(guildId, options) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_GUILD"
        ]);
        return await editWelcomeScreenOld(guildId, options);
    };
}
export default function setupWelcomeScreenPermChecks(bot) {
    getWelcomeScreen(bot);
    editWelcomeScreen(bot);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMgfSBmcm9tIFwiLi4vcGVybWlzc2lvbnMudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlbGNvbWVTY3JlZW4oYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgZ2V0V2VsY29tZVNjcmVlbk9sZCA9IGJvdC5oZWxwZXJzLmdldFdlbGNvbWVTY3JlZW47XG5cbiAgYm90LmhlbHBlcnMuZ2V0V2VsY29tZVNjcmVlbiA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkKSB7XG4gICAgY29uc3QgZ3VpbGQgPSBib3QuZ3VpbGRzLmdldChndWlsZElkKTtcbiAgICBpZiAoIWd1aWxkPy53ZWxjb21lU2NyZWVuKSB7XG4gICAgICByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyhib3QsIGd1aWxkSWQsIFtcIk1BTkFHRV9HVUlMRFwiXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGdldFdlbGNvbWVTY3JlZW5PbGQoZ3VpbGRJZCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0V2VsY29tZVNjcmVlbihib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBjb25zdCBlZGl0V2VsY29tZVNjcmVlbk9sZCA9IGJvdC5oZWxwZXJzLmVkaXRXZWxjb21lU2NyZWVuO1xuXG4gIGJvdC5oZWxwZXJzLmVkaXRXZWxjb21lU2NyZWVuID0gYXN5bmMgZnVuY3Rpb24gKGd1aWxkSWQsIG9wdGlvbnMpIHtcbiAgICByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyhib3QsIGd1aWxkSWQsIFtcIk1BTkFHRV9HVUlMRFwiXSk7XG5cbiAgICByZXR1cm4gYXdhaXQgZWRpdFdlbGNvbWVTY3JlZW5PbGQoZ3VpbGRJZCwgb3B0aW9ucyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHVwV2VsY29tZVNjcmVlblBlcm1DaGVja3MoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgZ2V0V2VsY29tZVNjcmVlbihib3QpO1xuICBlZGl0V2VsY29tZVNjcmVlbihib3QpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLFNBQVMsMEJBQTBCLFFBQVEsbUJBQW1CLENBQUM7QUFFL0QsT0FBTyxTQUFTLGdCQUFnQixDQUFDLEdBQWlCLEVBQUU7SUFDbEQsTUFBTSxtQkFBbUIsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGdCQUFnQixBQUFDO0lBRXpELEdBQUcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsZUFBZ0IsT0FBTyxFQUFFO1FBQ3RELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxBQUFDO1FBQ3RDLElBQUksQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFO1lBQ3pCLDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUU7Z0JBQUMsY0FBYzthQUFDLENBQUMsQ0FBQztTQUM1RDtRQUVELE9BQU8sTUFBTSxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUMzQyxDQUFDO0NBQ0g7QUFFRCxPQUFPLFNBQVMsaUJBQWlCLENBQUMsR0FBaUIsRUFBRTtJQUNuRCxNQUFNLG9CQUFvQixHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEFBQUM7SUFFM0QsR0FBRyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxlQUFnQixPQUFPLEVBQUUsT0FBTyxFQUFFO1FBQ2hFLDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUU7WUFBQyxjQUFjO1NBQUMsQ0FBQyxDQUFDO1FBRTNELE9BQU8sTUFBTSxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDckQsQ0FBQztDQUNIO0FBRUQsZUFBZSxTQUFTLDRCQUE0QixDQUFDLEdBQWlCLEVBQUU7SUFDdEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDeEIsQ0FBQSJ9