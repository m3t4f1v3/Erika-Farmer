import { requireBotGuildPermissions } from "../permissions.ts";
export function getWelcomeScreen(bot) {
    const getWelcomeScreenOld = bot.helpers.getWelcomeScreen;
    bot.helpers.getWelcomeScreen = async function (guildId) {
        const guild = bot.guilds.get(guildId);
        if (!guild?.welcomeScreen) {
            requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        }
        return await getWelcomeScreenOld(guildId);
    };
}
export function editWelcomeScreen(bot) {
    const editWelcomeScreenOld = bot.helpers.editWelcomeScreen;
    bot.helpers.editWelcomeScreen = async function (guildId, options) {
        requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        return await editWelcomeScreenOld(guildId, options);
    };
}
export default function setupWelcomeScreenPermChecks(bot) {
    getWelcomeScreen(bot);
    editWelcomeScreen(bot);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VsY29tZVNjcmVlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlbGNvbWVTY3JlZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFL0QsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEdBQWlCO0lBQ2hELE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztJQUV6RCxHQUFHLENBQUMsT0FBTyxDQUFDLGdCQUFnQixHQUFHLEtBQUssV0FBVyxPQUFPO1FBQ3BELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFO1lBQ3pCLDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsT0FBTyxNQUFNLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsR0FBaUI7SUFDakQsTUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0lBRTNELEdBQUcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxXQUFXLE9BQU8sRUFBRSxPQUFPO1FBQzlELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBRTNELE9BQU8sTUFBTSxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxPQUFPLFVBQVUsNEJBQTRCLENBQUMsR0FBaUI7SUFDcEUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvdFdpdGhDYWNoZSB9IGZyb20gXCIuLi8uLi9kZXBzLnRzXCI7XG5pbXBvcnQgeyByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyB9IGZyb20gXCIuLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2VsY29tZVNjcmVlbihib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBjb25zdCBnZXRXZWxjb21lU2NyZWVuT2xkID0gYm90LmhlbHBlcnMuZ2V0V2VsY29tZVNjcmVlbjtcblxuICBib3QuaGVscGVycy5nZXRXZWxjb21lU2NyZWVuID0gYXN5bmMgZnVuY3Rpb24gKGd1aWxkSWQpIHtcbiAgICBjb25zdCBndWlsZCA9IGJvdC5ndWlsZHMuZ2V0KGd1aWxkSWQpO1xuICAgIGlmICghZ3VpbGQ/LndlbGNvbWVTY3JlZW4pIHtcbiAgICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0dVSUxEXCJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgZ2V0V2VsY29tZVNjcmVlbk9sZChndWlsZElkKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRXZWxjb21lU2NyZWVuKGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGVkaXRXZWxjb21lU2NyZWVuT2xkID0gYm90LmhlbHBlcnMuZWRpdFdlbGNvbWVTY3JlZW47XG5cbiAgYm90LmhlbHBlcnMuZWRpdFdlbGNvbWVTY3JlZW4gPSBhc3luYyBmdW5jdGlvbiAoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0dVSUxEXCJdKTtcblxuICAgIHJldHVybiBhd2FpdCBlZGl0V2VsY29tZVNjcmVlbk9sZChndWlsZElkLCBvcHRpb25zKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dXBXZWxjb21lU2NyZWVuUGVybUNoZWNrcyhib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBnZXRXZWxjb21lU2NyZWVuKGJvdCk7XG4gIGVkaXRXZWxjb21lU2NyZWVuKGJvdCk7XG59XG4iXX0=