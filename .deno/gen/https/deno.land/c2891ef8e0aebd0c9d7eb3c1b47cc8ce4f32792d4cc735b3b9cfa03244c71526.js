import { Collection } from "../../../util/collection.ts";
/** Get the archived threads for this channel, defaults to public */ export async function getArchivedThreads(bot, channelId, options) {
    let url = options?.type === "privateJoinedThreads" ? bot.constants.routes.THREAD_ARCHIVED_PRIVATE_JOINED(channelId, options) : options?.type === "private" ? bot.constants.routes.THREAD_ARCHIVED_PRIVATE(channelId, options) : bot.constants.routes.THREAD_ARCHIVED_PUBLIC(channelId, options);
    const result = await bot.rest.runMethod(bot.rest, "GET", url);
    return {
        threads: new Collection(result.threads.map((t)=>{
            const thread = bot.transformers.channel(bot, {
                channel: t
            });
            return [
                thread.id,
                thread
            ];
        })),
        members: new Collection(result.members.map((m)=>{
            const member = bot.transformers.threadMember(bot, m);
            return [
                member.id,
                member
            ];
        })),
        hasMore: result.has_more
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvY29sbGVjdGlvbi50c1wiO1xuaW1wb3J0IHR5cGUgeyBCb3QgfSBmcm9tIFwiLi4vLi4vLi4vYm90LnRzXCI7XG5pbXBvcnQgeyBEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcyB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9kaXNjb3JkLnRzXCI7XG5cbi8qKiBHZXQgdGhlIGFyY2hpdmVkIHRocmVhZHMgZm9yIHRoaXMgY2hhbm5lbCwgZGVmYXVsdHMgdG8gcHVibGljICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXJjaGl2ZWRUaHJlYWRzKFxuICBib3Q6IEJvdCxcbiAgY2hhbm5lbElkOiBiaWdpbnQsXG4gIG9wdGlvbnM/OiBMaXN0QXJjaGl2ZWRUaHJlYWRzICYge1xuICAgIHR5cGU/OiBcInB1YmxpY1wiIHwgXCJwcml2YXRlXCIgfCBcInByaXZhdGVKb2luZWRUaHJlYWRzXCI7XG4gIH0sXG4pIHtcbiAgbGV0IHVybCA9IG9wdGlvbnM/LnR5cGUgPT09IFwicHJpdmF0ZUpvaW5lZFRocmVhZHNcIlxuICAgID8gYm90LmNvbnN0YW50cy5yb3V0ZXMuVEhSRUFEX0FSQ0hJVkVEX1BSSVZBVEVfSk9JTkVEKGNoYW5uZWxJZCwgb3B0aW9ucylcbiAgICA6IG9wdGlvbnM/LnR5cGUgPT09IFwicHJpdmF0ZVwiXG4gICAgPyBib3QuY29uc3RhbnRzLnJvdXRlcy5USFJFQURfQVJDSElWRURfUFJJVkFURShjaGFubmVsSWQsIG9wdGlvbnMpXG4gICAgOiBib3QuY29uc3RhbnRzLnJvdXRlcy5USFJFQURfQVJDSElWRURfUFVCTElDKGNoYW5uZWxJZCwgb3B0aW9ucyk7XG5cbiAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGJvdC5yZXN0LnJ1bk1ldGhvZDxEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcz4oXG4gICAgYm90LnJlc3QsXG4gICAgXCJHRVRcIixcbiAgICB1cmwsXG4gICkpO1xuXG4gIHJldHVybiB7XG4gICAgdGhyZWFkczogbmV3IENvbGxlY3Rpb24oXG4gICAgICByZXN1bHQudGhyZWFkcy5tYXAoKHQpID0+IHtcbiAgICAgICAgY29uc3QgdGhyZWFkID0gYm90LnRyYW5zZm9ybWVycy5jaGFubmVsKGJvdCwgeyBjaGFubmVsOiB0IH0pO1xuICAgICAgICByZXR1cm4gW3RocmVhZC5pZCwgdGhyZWFkXTtcbiAgICAgIH0pLFxuICAgICksXG4gICAgbWVtYmVyczogbmV3IENvbGxlY3Rpb24oXG4gICAgICByZXN1bHQubWVtYmVycy5tYXAoKG0pID0+IHtcbiAgICAgICAgY29uc3QgbWVtYmVyID0gYm90LnRyYW5zZm9ybWVycy50aHJlYWRNZW1iZXIoYm90LCBtKTtcbiAgICAgICAgcmV0dXJuIFttZW1iZXIuaWQsIG1lbWJlcl07XG4gICAgICB9KSxcbiAgICApLFxuICAgIGhhc01vcmU6IHJlc3VsdC5oYXNfbW9yZSxcbiAgfTtcbn1cblxuLyoqIGh0dHBzOi8vZGlzY29yZC5jb20vZGV2ZWxvcGVycy9kb2NzL3Jlc291cmNlcy9jaGFubmVsI2xpc3QtcHVibGljLWFyY2hpdmVkLXRocmVhZHMtcXVlcnktc3RyaW5nLXBhcmFtcyAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0QXJjaGl2ZWRUaHJlYWRzIHtcbiAgLyoqIFJldHVybnMgdGhyZWFkcyBiZWZvcmUgdGhpcyB0aW1lc3RhbXAgKi9cbiAgYmVmb3JlPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwgbWF4aW11bSBudW1iZXIgb2YgdGhyZWFkcyB0byByZXR1cm4gKi9cbiAgbGltaXQ/OiBudW1iZXI7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IlNBQVMsVUFBVSxRQUFRLDZCQUE2QixDQUFDO0FBSXpELG9FQUFvRSxDQUNwRSxPQUFPLGVBQWUsa0JBQWtCLENBQ3RDLEdBQVEsRUFDUixTQUFpQixFQUNqQixPQUVDLEVBQ0Q7SUFDQSxJQUFJLEdBQUcsR0FBRyxPQUFPLEVBQUUsSUFBSSxLQUFLLHNCQUFzQixHQUM5QyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQ3ZFLE9BQU8sRUFBRSxJQUFJLEtBQUssU0FBUyxHQUMzQixHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQ2hFLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQUFBQztJQUVwRSxNQUFNLE1BQU0sR0FBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUN0QyxHQUFHLENBQUMsSUFBSSxFQUNSLEtBQUssRUFDTCxHQUFHLENBQ0osQUFBQyxBQUFDO0lBRUgsT0FBTztRQUNMLE9BQU8sRUFBRSxJQUFJLFVBQVUsQ0FDckIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUs7WUFDeEIsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO2dCQUFFLE9BQU8sRUFBRSxDQUFDO2FBQUUsQ0FBQyxBQUFDO1lBQzdELE9BQU87Z0JBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQUUsTUFBTTthQUFDLENBQUM7U0FDNUIsQ0FBQyxDQUNIO1FBQ0QsT0FBTyxFQUFFLElBQUksVUFBVSxDQUNyQixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBSztZQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEFBQUM7WUFDckQsT0FBTztnQkFBQyxNQUFNLENBQUMsRUFBRTtnQkFBRSxNQUFNO2FBQUMsQ0FBQztTQUM1QixDQUFDLENBQ0g7UUFDRCxPQUFPLEVBQUUsTUFBTSxDQUFDLFFBQVE7S0FDekIsQ0FBQztDQUNIIn0=