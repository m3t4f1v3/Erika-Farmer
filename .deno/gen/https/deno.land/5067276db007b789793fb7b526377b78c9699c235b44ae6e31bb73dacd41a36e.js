/** Check the rate limits for a url or a bucket. */ export function checkRateLimits(rest, url) {
    const ratelimited = rest.rateLimitedPaths.get(url);
    const global = rest.rateLimitedPaths.get("global");
    const now = Date.now();
    if (ratelimited && now < ratelimited.resetTimestamp) {
        return ratelimited.resetTimestamp - now;
    }
    if (global && now < global.resetTimestamp) {
        return global.resetTimestamp - now;
    }
    return false;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN0TWFuYWdlciB9IGZyb20gXCIuLi9ib3QudHNcIjtcblxuLyoqIENoZWNrIHRoZSByYXRlIGxpbWl0cyBmb3IgYSB1cmwgb3IgYSBidWNrZXQuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSYXRlTGltaXRzKHJlc3Q6IFJlc3RNYW5hZ2VyLCB1cmw6IHN0cmluZykge1xuICBjb25zdCByYXRlbGltaXRlZCA9IHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5nZXQodXJsKTtcbiAgY29uc3QgZ2xvYmFsID0gcmVzdC5yYXRlTGltaXRlZFBhdGhzLmdldChcImdsb2JhbFwiKTtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICBpZiAocmF0ZWxpbWl0ZWQgJiYgbm93IDwgcmF0ZWxpbWl0ZWQucmVzZXRUaW1lc3RhbXApIHtcbiAgICByZXR1cm4gcmF0ZWxpbWl0ZWQucmVzZXRUaW1lc3RhbXAgLSBub3c7XG4gIH1cbiAgaWYgKGdsb2JhbCAmJiBub3cgPCBnbG9iYWwucmVzZXRUaW1lc3RhbXApIHtcbiAgICByZXR1cm4gZ2xvYmFsLnJlc2V0VGltZXN0YW1wIC0gbm93O1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLG1EQUFtRCxDQUNuRCxPQUFPLFNBQVMsZUFBZSxDQUFDLElBQWlCLEVBQUUsR0FBVyxFQUFFO0lBQzlELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEFBQUM7SUFDbkQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQUFBQztJQUNuRCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEFBQUM7SUFFdkIsSUFBSSxXQUFXLElBQUksR0FBRyxHQUFHLFdBQVcsQ0FBQyxjQUFjLEVBQUU7UUFDbkQsT0FBTyxXQUFXLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQztLQUN6QztJQUNELElBQUksTUFBTSxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsY0FBYyxFQUFFO1FBQ3pDLE9BQU8sTUFBTSxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUM7S0FDcEM7SUFFRCxPQUFPLEtBQUssQ0FBQztDQUNkIn0=