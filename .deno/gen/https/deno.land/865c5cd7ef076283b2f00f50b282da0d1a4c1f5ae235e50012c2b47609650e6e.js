import { requireBotGuildPermissions } from "./permissions.ts";
export function addDiscoverySubcategory(bot) {
    const addDiscoverySubcategoryOld = bot.helpers.addDiscoverySubcategory;
    bot.helpers.addDiscoverySubcategory = async function (guildId, categoryId) {
        requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        return await addDiscoverySubcategoryOld(guildId, categoryId);
    };
}
export function removeDiscoverySubcategory(bot) {
    const removeDiscoverySubcategoryOld = bot.helpers.removeDiscoverySubcategory;
    bot.helpers.removeDiscoverySubcategory = async function (guildId, categoryId) {
        requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        return await removeDiscoverySubcategoryOld(guildId, categoryId);
    };
}
export function getDiscovery(bot) {
    const getDiscoveryOld = bot.helpers.getDiscovery;
    bot.helpers.getDiscovery = async function (guildId) {
        requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        return await getDiscoveryOld(guildId);
    };
}
export function editDiscovery(bot) {
    const editDiscoveryOld = bot.helpers.editDiscovery;
    bot.helpers.editDiscovery = async function (guildId, data) {
        requireBotGuildPermissions(bot, guildId, ["MANAGE_GUILD"]);
        return await editDiscoveryOld(guildId, data);
    };
}
export default function setupDiscoveryPermChecks(bot) {
    addDiscoverySubcategory(bot);
    editDiscovery(bot);
    getDiscovery(bot);
    removeDiscoverySubcategory(bot);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzY292ZXJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGlzY292ZXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTlELE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxHQUFpQjtJQUN2RCxNQUFNLDBCQUEwQixHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7SUFFdkUsR0FBRyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsR0FBRyxLQUFLLFdBQVcsT0FBTyxFQUFFLFVBQVU7UUFDdkUsMEJBQTBCLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFFM0QsT0FBTyxNQUFNLDBCQUEwQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxVQUFVLDBCQUEwQixDQUFDLEdBQWlCO0lBQzFELE1BQU0sNkJBQTZCLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQztJQUU3RSxHQUFHLENBQUMsT0FBTyxDQUFDLDBCQUEwQixHQUFHLEtBQUssV0FBVyxPQUFPLEVBQUUsVUFBVTtRQUMxRSwwQkFBMEIsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUUzRCxPQUFPLE1BQU0sNkJBQTZCLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLEdBQWlCO0lBQzVDLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBRWpELEdBQUcsQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLEtBQUssV0FBVyxPQUFPO1FBQ2hELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBRTNELE9BQU8sTUFBTSxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sVUFBVSxhQUFhLENBQUMsR0FBaUI7SUFDN0MsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUVuRCxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsR0FBRyxLQUFLLFdBQVcsT0FBTyxFQUFFLElBQUk7UUFDdkQsMEJBQTBCLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFFM0QsT0FBTyxNQUFNLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLE9BQU8sVUFBVSx3QkFBd0IsQ0FBQyxHQUFpQjtJQUNoRSx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLDBCQUEwQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMgfSBmcm9tIFwiLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkRGlzY292ZXJ5U3ViY2F0ZWdvcnkoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgYWRkRGlzY292ZXJ5U3ViY2F0ZWdvcnlPbGQgPSBib3QuaGVscGVycy5hZGREaXNjb3ZlcnlTdWJjYXRlZ29yeTtcblxuICBib3QuaGVscGVycy5hZGREaXNjb3ZlcnlTdWJjYXRlZ29yeSA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkLCBjYXRlZ29yeUlkKSB7XG4gICAgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMoYm90LCBndWlsZElkLCBbXCJNQU5BR0VfR1VJTERcIl0pO1xuXG4gICAgcmV0dXJuIGF3YWl0IGFkZERpc2NvdmVyeVN1YmNhdGVnb3J5T2xkKGd1aWxkSWQsIGNhdGVnb3J5SWQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRGlzY292ZXJ5U3ViY2F0ZWdvcnkoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgcmVtb3ZlRGlzY292ZXJ5U3ViY2F0ZWdvcnlPbGQgPSBib3QuaGVscGVycy5yZW1vdmVEaXNjb3ZlcnlTdWJjYXRlZ29yeTtcblxuICBib3QuaGVscGVycy5yZW1vdmVEaXNjb3ZlcnlTdWJjYXRlZ29yeSA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkLCBjYXRlZ29yeUlkKSB7XG4gICAgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMoYm90LCBndWlsZElkLCBbXCJNQU5BR0VfR1VJTERcIl0pO1xuXG4gICAgcmV0dXJuIGF3YWl0IHJlbW92ZURpc2NvdmVyeVN1YmNhdGVnb3J5T2xkKGd1aWxkSWQsIGNhdGVnb3J5SWQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzY292ZXJ5KGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGdldERpc2NvdmVyeU9sZCA9IGJvdC5oZWxwZXJzLmdldERpc2NvdmVyeTtcblxuICBib3QuaGVscGVycy5nZXREaXNjb3ZlcnkgPSBhc3luYyBmdW5jdGlvbiAoZ3VpbGRJZCkge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0dVSUxEXCJdKTtcblxuICAgIHJldHVybiBhd2FpdCBnZXREaXNjb3ZlcnlPbGQoZ3VpbGRJZCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0RGlzY292ZXJ5KGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGVkaXREaXNjb3ZlcnlPbGQgPSBib3QuaGVscGVycy5lZGl0RGlzY292ZXJ5O1xuXG4gIGJvdC5oZWxwZXJzLmVkaXREaXNjb3ZlcnkgPSBhc3luYyBmdW5jdGlvbiAoZ3VpbGRJZCwgZGF0YSkge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0dVSUxEXCJdKTtcblxuICAgIHJldHVybiBhd2FpdCBlZGl0RGlzY292ZXJ5T2xkKGd1aWxkSWQsIGRhdGEpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXR1cERpc2NvdmVyeVBlcm1DaGVja3MoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgYWRkRGlzY292ZXJ5U3ViY2F0ZWdvcnkoYm90KTtcbiAgZWRpdERpc2NvdmVyeShib3QpO1xuICBnZXREaXNjb3ZlcnkoYm90KTtcbiAgcmVtb3ZlRGlzY292ZXJ5U3ViY2F0ZWdvcnkoYm90KTtcbn1cbiJdfQ==