import { requireBotChannelPermissions } from "../permissions.ts";
export default function getChannelWebhooks(bot) {
    const getChannelWebhooksOld = bot.helpers.getChannelWebhooks;
    bot.helpers.getChannelWebhooks = async function (channelId) {
        const channel = bot.channels.get(channelId);
        if (channel?.guildId) {
            requireBotChannelPermissions(bot, channelId, ["MANAGE_WEBHOOKS"]);
        }
        return await getChannelWebhooksOld(channelId);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2hhbm5lbFdlYmhvb2tzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2V0Q2hhbm5lbFdlYmhvb2tzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWpFLE1BQU0sQ0FBQyxPQUFPLFVBQVUsa0JBQWtCLENBQUMsR0FBaUI7SUFDMUQsTUFBTSxxQkFBcUIsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0lBRTdELEdBQUcsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxXQUFXLFNBQVM7UUFDeEQsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUMsSUFBSSxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ3BCLDRCQUE0QixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7U0FDbkU7UUFFRCxPQUFPLE1BQU0scUJBQXFCLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvdFdpdGhDYWNoZSB9IGZyb20gXCIuLi8uLi9kZXBzLnRzXCI7XG5pbXBvcnQgeyByZXF1aXJlQm90Q2hhbm5lbFBlcm1pc3Npb25zIH0gZnJvbSBcIi4uL3Blcm1pc3Npb25zLnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENoYW5uZWxXZWJob29rcyhib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBjb25zdCBnZXRDaGFubmVsV2ViaG9va3NPbGQgPSBib3QuaGVscGVycy5nZXRDaGFubmVsV2ViaG9va3M7XG5cbiAgYm90LmhlbHBlcnMuZ2V0Q2hhbm5lbFdlYmhvb2tzID0gYXN5bmMgZnVuY3Rpb24gKGNoYW5uZWxJZCkge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBib3QuY2hhbm5lbHMuZ2V0KGNoYW5uZWxJZCk7XG4gICAgaWYgKGNoYW5uZWw/Lmd1aWxkSWQpIHtcbiAgICAgIHJlcXVpcmVCb3RDaGFubmVsUGVybWlzc2lvbnMoYm90LCBjaGFubmVsSWQsIFtcIk1BTkFHRV9XRUJIT09LU1wiXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGdldENoYW5uZWxXZWJob29rc09sZChjaGFubmVsSWQpO1xuICB9O1xufVxuIl19