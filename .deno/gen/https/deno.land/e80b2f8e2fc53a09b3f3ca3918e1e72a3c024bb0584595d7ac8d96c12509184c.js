import { isContextApplicationCommand, makeOptionsForCommand } from "./createApplicationCommand.ts";
/**
 * Edit an existing application command. If this command did not exist, it will create it.
 */ export async function upsertApplicationCommand(bot, commandId, options, guildId) {
    const result = await bot.rest.runMethod(bot.rest, "PATCH", guildId ? bot.constants.routes.COMMANDS_GUILD_ID(bot.applicationId, guildId, commandId) : bot.constants.routes.COMMANDS_ID(bot.applicationId, commandId), isContextApplicationCommand(options) ? {
        name: options.name,
        type: options.type
    } : {
        name: options.name,
        description: options.description,
        type: options.type,
        options: options.options ? makeOptionsForCommand(options.options) : undefined
    });
    return bot.transformers.applicationCommand(bot, result);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEJvdCB9IGZyb20gXCIuLi8uLi8uLi9ib3QudHNcIjtcbmltcG9ydCB7XG4gIENyZWF0ZUFwcGxpY2F0aW9uQ29tbWFuZCxcbiAgQ3JlYXRlQ29udGV4dEFwcGxpY2F0aW9uQ29tbWFuZCxcbiAgaXNDb250ZXh0QXBwbGljYXRpb25Db21tYW5kLFxuICBtYWtlT3B0aW9uc0ZvckNvbW1hbmQsXG59IGZyb20gXCIuL2NyZWF0ZUFwcGxpY2F0aW9uQ29tbWFuZC50c1wiO1xuaW1wb3J0IHsgRGlzY29yZEFwcGxpY2F0aW9uQ29tbWFuZCB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9kaXNjb3JkLnRzXCI7XG5pbXBvcnQgeyBBdExlYXN0T25lIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL3NoYXJlZC50c1wiO1xuXG4vKipcbiAqIEVkaXQgYW4gZXhpc3RpbmcgYXBwbGljYXRpb24gY29tbWFuZC4gSWYgdGhpcyBjb21tYW5kIGRpZCBub3QgZXhpc3QsIGl0IHdpbGwgY3JlYXRlIGl0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBzZXJ0QXBwbGljYXRpb25Db21tYW5kKFxuICBib3Q6IEJvdCxcbiAgY29tbWFuZElkOiBiaWdpbnQsXG4gIG9wdGlvbnM6IEF0TGVhc3RPbmU8Q3JlYXRlQXBwbGljYXRpb25Db21tYW5kPiB8IEF0TGVhc3RPbmU8Q3JlYXRlQ29udGV4dEFwcGxpY2F0aW9uQ29tbWFuZD4sXG4gIGd1aWxkSWQ/OiBiaWdpbnQsXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYm90LnJlc3QucnVuTWV0aG9kPERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KFxuICAgIGJvdC5yZXN0LFxuICAgIFwiUEFUQ0hcIixcbiAgICBndWlsZElkXG4gICAgICA/IGJvdC5jb25zdGFudHMucm91dGVzLkNPTU1BTkRTX0dVSUxEX0lEKGJvdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpXG4gICAgICA6IGJvdC5jb25zdGFudHMucm91dGVzLkNPTU1BTkRTX0lEKGJvdC5hcHBsaWNhdGlvbklkLCBjb21tYW5kSWQpLFxuICAgIGlzQ29udGV4dEFwcGxpY2F0aW9uQ29tbWFuZChvcHRpb25zKVxuICAgICAgPyB7XG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucy5vcHRpb25zID8gbWFrZU9wdGlvbnNGb3JDb21tYW5kKG9wdGlvbnMub3B0aW9ucykgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICApO1xuXG4gIHJldHVybiBib3QudHJhbnNmb3JtZXJzLmFwcGxpY2F0aW9uQ29tbWFuZChib3QsIHJlc3VsdCk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsU0FHRSwyQkFBMkIsRUFDM0IscUJBQXFCLFFBQ2hCLCtCQUErQixDQUFDO0FBSXZDOztHQUVHLENBQ0gsT0FBTyxlQUFlLHdCQUF3QixDQUM1QyxHQUFRLEVBQ1IsU0FBaUIsRUFDakIsT0FBMkYsRUFDM0YsT0FBZ0IsRUFDaEI7SUFDQSxNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUNyQyxHQUFHLENBQUMsSUFBSSxFQUNSLE9BQU8sRUFDUCxPQUFPLEdBQ0gsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLEdBQzdFLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxFQUNsRSwyQkFBMkIsQ0FBQyxPQUFPLENBQUMsR0FDaEM7UUFDQSxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7UUFDbEIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0tBQ25CLEdBQ0M7UUFDQSxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7UUFDbEIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXO1FBQ2hDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtRQUNsQixPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUztLQUM5RSxDQUNKLEFBQUM7SUFFRixPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQ3pEIn0=