import { Collection } from "../deps.ts";
export function setupCacheRemovals(bot) {
    const { CHANNEL_DELETE , GUILD_BAN_ADD , GUILD_DELETE , GUILD_EMOJIS_UPDATE , GUILD_MEMBER_REMOVE , GUILD_ROLE_DELETE , MESSAGE_DELETE_BULK ,  } = bot.handlers;
    bot.handlers.GUILD_DELETE = function(_, data, shardId) {
        const payload = data.d;
        const id = bot.transformers.snowflake(payload.id);
        bot.guilds.delete(id);
        bot.channels.forEach((channel)=>{
            if (channel.guildId === id) bot.channels.delete(channel.id);
        });
        bot.members.forEach((member)=>{
            if (member.guildId === id) bot.members.delete(member.id);
        });
        bot.messages.forEach((message)=>{
            if (message.guildId === id) bot.messages.delete(message.id);
        });
        GUILD_DELETE(bot, data, shardId);
    };
    bot.handlers.CHANNEL_DELETE = function(_, data, shardId) {
        const payload = data.d;
        // HANDLER BEFORE DELETING, BECAUSE HANDLER RUNS TRANSFORMER WHICH REACHES
        CHANNEL_DELETE(bot, data, shardId);
        const id = bot.transformers.snowflake(payload.id);
        bot.channels.delete(id);
        bot.messages.forEach((message)=>{
            if (message.channelId === id) bot.messages.delete(message.id);
        });
    };
    bot.handlers.GUILD_MEMBER_REMOVE = function(_, data, shardId) {
        const payload = data.d;
        bot.members.delete(bot.transformers.snowflake(payload.user.id));
        GUILD_MEMBER_REMOVE(bot, data, shardId);
    };
    bot.handlers.GUILD_BAN_ADD = function(_, data, shardId) {
        const payload = data.d;
        bot.members.delete(bot.transformers.snowflake(payload.user.id));
        GUILD_BAN_ADD(bot, data, shardId);
    };
    bot.handlers.GUILD_EMOJIS_UPDATE = function(_, data, shardId) {
        const payload = data.d;
        const guild = bot.guilds.get(bot.transformers.snowflake(payload.guild_id));
        if (guild) {
            guild.emojis = new Collection(payload.emojis.map((e)=>{
                const emoji = bot.transformers.emoji(bot, e);
                return [
                    emoji.id,
                    emoji
                ];
            }));
        }
        GUILD_EMOJIS_UPDATE(bot, data, shardId);
    };
    bot.handlers.MESSAGE_DELETE = function(_, data) {
        const payload = data.d;
        const id = bot.transformers.snowflake(payload.id);
        const message = bot.messages.get(id);
        bot.events.messageDelete(bot, {
            id,
            channelId: bot.transformers.snowflake(payload.channel_id),
            guildId: payload.guild_id ? bot.transformers.snowflake(payload.guild_id) : undefined
        }, message);
        bot.messages.delete(id);
    };
    bot.handlers.MESSAGE_DELETE_BULK = function(_, data, shardId) {
        const payload = data.d;
        payload.ids.forEach((id)=>bot.messages.delete(bot.transformers.snowflake(id))
        );
        MESSAGE_DELETE_BULK(bot, data, shardId);
    };
    bot.handlers.GUILD_ROLE_DELETE = function(_, data, shardId) {
        const payload = data.d;
        const guild = bot.guilds.get(bot.transformers.snowflake(payload.guild_id));
        const id = bot.transformers.snowflake(payload.role_id);
        if (guild) {
            guild.roles.delete(id);
            bot.members.forEach((member)=>{
                // SKIP MEMBERS IN OTHER GUILDS
                if (member.guildId !== guild.id) return;
                // SKIP MEMBERS WHO DON'T HAVE ROLE
                if (!member.roles.includes(id)) return;
                // EDIT THE MEMBERS ROLES
                member.roles = member.roles.filter((roleId)=>roleId !== id
                );
            });
        }
        GUILD_ROLE_DELETE(bot, data, shardId);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEVtb2ppLCBHdWlsZCB9IGZyb20gXCIuLi9kZXBzLnRzXCI7XG5pbXBvcnQgdHlwZSB7IEJvdFdpdGhDYWNoZSB9IGZyb20gXCIuL2FkZENhY2hlQ29sbGVjdGlvbnMudHNcIjtcbmltcG9ydCB7XG4gIEJvdCxcbiAgQ29sbGVjdGlvbixcbiAgRGlzY29yZENoYW5uZWwsXG4gIERpc2NvcmRHdWlsZEJhbkFkZFJlbW92ZSxcbiAgRGlzY29yZEd1aWxkRW1vamlzVXBkYXRlLFxuICBEaXNjb3JkR3VpbGRNZW1iZXJSZW1vdmUsXG4gIERpc2NvcmRHdWlsZFJvbGVEZWxldGUsXG4gIERpc2NvcmRNZXNzYWdlRGVsZXRlLFxuICBEaXNjb3JkTWVzc2FnZURlbGV0ZUJ1bGssXG4gIERpc2NvcmRVbmF2YWlsYWJsZUd1aWxkLFxufSBmcm9tIFwiLi4vZGVwcy50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBDYWNoZVJlbW92YWxzPEIgZXh0ZW5kcyBCb3Q+KGJvdDogQm90V2l0aENhY2hlPEI+KSB7XG4gIGNvbnN0IHtcbiAgICBDSEFOTkVMX0RFTEVURSxcbiAgICBHVUlMRF9CQU5fQURELFxuICAgIEdVSUxEX0RFTEVURSxcbiAgICBHVUlMRF9FTU9KSVNfVVBEQVRFLFxuICAgIEdVSUxEX01FTUJFUl9SRU1PVkUsXG4gICAgR1VJTERfUk9MRV9ERUxFVEUsXG4gICAgTUVTU0FHRV9ERUxFVEVfQlVMSyxcbiAgfSA9IGJvdC5oYW5kbGVycztcblxuICBib3QuaGFuZGxlcnMuR1VJTERfREVMRVRFID0gZnVuY3Rpb24gKF8sIGRhdGEsIHNoYXJkSWQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRVbmF2YWlsYWJsZUd1aWxkO1xuICAgIGNvbnN0IGlkID0gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5pZCk7XG5cbiAgICBib3QuZ3VpbGRzLmRlbGV0ZShpZCk7XG4gICAgYm90LmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IHtcbiAgICAgIGlmIChjaGFubmVsLmd1aWxkSWQgPT09IGlkKSBib3QuY2hhbm5lbHMuZGVsZXRlKGNoYW5uZWwuaWQpO1xuICAgIH0pO1xuICAgIGJvdC5tZW1iZXJzLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgaWYgKG1lbWJlci5ndWlsZElkID09PSBpZCkgYm90Lm1lbWJlcnMuZGVsZXRlKG1lbWJlci5pZCk7XG4gICAgfSk7XG4gICAgYm90Lm1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmIChtZXNzYWdlLmd1aWxkSWQgPT09IGlkKSBib3QubWVzc2FnZXMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgIH0pO1xuICAgIEdVSUxEX0RFTEVURShib3QsIGRhdGEsIHNoYXJkSWQpO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5DSEFOTkVMX0RFTEVURSA9IGZ1bmN0aW9uIChfLCBkYXRhLCBzaGFyZElkKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRhdGEuZCBhcyBEaXNjb3JkQ2hhbm5lbDtcbiAgICAvLyBIQU5ETEVSIEJFRk9SRSBERUxFVElORywgQkVDQVVTRSBIQU5ETEVSIFJVTlMgVFJBTlNGT1JNRVIgV0hJQ0ggUkVBQ0hFU1xuICAgIENIQU5ORUxfREVMRVRFKGJvdCwgZGF0YSwgc2hhcmRJZCk7XG5cbiAgICBjb25zdCBpZCA9IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuaWQpO1xuICAgIGJvdC5jaGFubmVscy5kZWxldGUoaWQpO1xuICAgIGJvdC5tZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5jaGFubmVsSWQgPT09IGlkKSBib3QubWVzc2FnZXMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5HVUlMRF9NRU1CRVJfUkVNT1ZFID0gZnVuY3Rpb24gKF8sIGRhdGEsIHNoYXJkSWQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRHdWlsZE1lbWJlclJlbW92ZTtcbiAgICBib3QubWVtYmVycy5kZWxldGUoYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC51c2VyLmlkKSk7XG4gICAgR1VJTERfTUVNQkVSX1JFTU9WRShib3QsIGRhdGEsIHNoYXJkSWQpO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5HVUlMRF9CQU5fQUREID0gZnVuY3Rpb24gKF8sIGRhdGEsIHNoYXJkSWQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRHdWlsZEJhbkFkZFJlbW92ZTtcbiAgICBib3QubWVtYmVycy5kZWxldGUoYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC51c2VyLmlkKSk7XG4gICAgR1VJTERfQkFOX0FERChib3QsIGRhdGEsIHNoYXJkSWQpO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5HVUlMRF9FTU9KSVNfVVBEQVRFID0gZnVuY3Rpb24gKF8sIGRhdGEsIHNoYXJkSWQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRHdWlsZEVtb2ppc1VwZGF0ZTtcbiAgICBjb25zdCBndWlsZCA9IGJvdC5ndWlsZHMuZ2V0KGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuZ3VpbGRfaWQpKTtcblxuICAgIGlmIChndWlsZCkge1xuICAgICAgZ3VpbGQuZW1vamlzISA9IG5ldyBDb2xsZWN0aW9uKHBheWxvYWQuZW1vamlzLm1hcCgoZSkgPT4ge1xuICAgICAgICBjb25zdCBlbW9qaTogRW1vamkgPSBib3QudHJhbnNmb3JtZXJzLmVtb2ppKGJvdCwgZSk7XG4gICAgICAgIHJldHVybiBbZW1vamkuaWQhLCBlbW9qaV07XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgR1VJTERfRU1PSklTX1VQREFURShib3QsIGRhdGEsIHNoYXJkSWQpO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5NRVNTQUdFX0RFTEVURSA9IGZ1bmN0aW9uIChfLCBkYXRhKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRhdGEuZCBhcyBEaXNjb3JkTWVzc2FnZURlbGV0ZTtcbiAgICBjb25zdCBpZCA9IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuaWQpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBib3QubWVzc2FnZXMuZ2V0KGlkKTtcbiAgICBib3QuZXZlbnRzLm1lc3NhZ2VEZWxldGUoYm90LCB7XG4gICAgICBpZCxcbiAgICAgIGNoYW5uZWxJZDogYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5jaGFubmVsX2lkKSxcbiAgICAgIGd1aWxkSWQ6IHBheWxvYWQuZ3VpbGRfaWQgPyBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKSA6IHVuZGVmaW5lZCxcbiAgICB9LCBtZXNzYWdlKTtcbiAgICBib3QubWVzc2FnZXMuZGVsZXRlKGlkKTtcbiAgfTtcblxuICBib3QuaGFuZGxlcnMuTUVTU0FHRV9ERUxFVEVfQlVMSyA9IGZ1bmN0aW9uIChfLCBkYXRhLCBzaGFyZElkKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRhdGEuZCBhcyBEaXNjb3JkTWVzc2FnZURlbGV0ZUJ1bGs7XG4gICAgcGF5bG9hZC5pZHMuZm9yRWFjaCgoaWQpID0+IGJvdC5tZXNzYWdlcy5kZWxldGUoYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UoaWQpKSk7XG4gICAgTUVTU0FHRV9ERUxFVEVfQlVMSyhib3QsIGRhdGEsIHNoYXJkSWQpO1xuICB9O1xuXG4gIGJvdC5oYW5kbGVycy5HVUlMRF9ST0xFX0RFTEVURSA9IGZ1bmN0aW9uIChfLCBkYXRhLCBzaGFyZElkKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRhdGEuZCBhcyBEaXNjb3JkR3VpbGRSb2xlRGVsZXRlO1xuICAgIGNvbnN0IGd1aWxkID0gYm90Lmd1aWxkcy5nZXQoXG4gICAgICBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKSxcbiAgICApO1xuICAgIGNvbnN0IGlkID0gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5yb2xlX2lkKTtcblxuICAgIGlmIChndWlsZCkge1xuICAgICAgZ3VpbGQucm9sZXMuZGVsZXRlKGlkKTtcbiAgICAgIGJvdC5tZW1iZXJzLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgICAvLyBTS0lQIE1FTUJFUlMgSU4gT1RIRVIgR1VJTERTXG4gICAgICAgIGlmIChtZW1iZXIuZ3VpbGRJZCAhPT0gZ3VpbGQuaWQpIHJldHVybjtcbiAgICAgICAgLy8gU0tJUCBNRU1CRVJTIFdITyBET04nVCBIQVZFIFJPTEVcbiAgICAgICAgaWYgKCFtZW1iZXIucm9sZXMuaW5jbHVkZXMoaWQpKSByZXR1cm47XG4gICAgICAgIC8vIEVESVQgVEhFIE1FTUJFUlMgUk9MRVNcbiAgICAgICAgbWVtYmVyLnJvbGVzID0gbWVtYmVyLnJvbGVzLmZpbHRlcigocm9sZUlkKSA9PiByb2xlSWQgIT09IGlkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIEdVSUxEX1JPTEVfREVMRVRFKGJvdCwgZGF0YSwgc2hhcmRJZCk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsU0FFRSxVQUFVLFFBU0wsWUFBWSxDQUFDO0FBRXBCLE9BQU8sU0FBUyxrQkFBa0IsQ0FBZ0IsR0FBb0IsRUFBRTtJQUN0RSxNQUFNLEVBQ0osY0FBYyxDQUFBLEVBQ2QsYUFBYSxDQUFBLEVBQ2IsWUFBWSxDQUFBLEVBQ1osbUJBQW1CLENBQUEsRUFDbkIsbUJBQW1CLENBQUEsRUFDbkIsaUJBQWlCLENBQUEsRUFDakIsbUJBQW1CLENBQUEsSUFDcEIsR0FBRyxHQUFHLENBQUMsUUFBUSxBQUFDO0lBRWpCLEdBQUcsQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLFNBQVUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7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