import { requireBotChannelPermissions } from "../permissions.ts";
export default function editChannelOverwrite(bot) {
    const editChannelOverwriteOld = bot.helpers.editChannelOverwrite;
    bot.helpers.editChannelOverwrite = async function (channelId, overwrite) {
        const channel = bot.channels.get(channelId);
        if (channel?.guildId) {
            requireBotChannelPermissions(bot, channelId, ["MANAGE_ROLES"]);
        }
        return await editChannelOverwriteOld(channelId, overwrite);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdENoYW5uZWxPdmVyd3JpdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlZGl0Q2hhbm5lbE92ZXJ3cml0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVqRSxNQUFNLENBQUMsT0FBTyxVQUFVLG9CQUFvQixDQUFDLEdBQWlCO0lBQzVELE1BQU0sdUJBQXVCLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztJQUVqRSxHQUFHLENBQUMsT0FBTyxDQUFDLG9CQUFvQixHQUFHLEtBQUssV0FBVyxTQUFTLEVBQUUsU0FBUztRQUNyRSxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM1QyxJQUFJLE9BQU8sRUFBRSxPQUFPLEVBQUU7WUFDcEIsNEJBQTRCLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7U0FDaEU7UUFFRCxPQUFPLE1BQU0sdUJBQXVCLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdENoYW5uZWxQZXJtaXNzaW9ucyB9IGZyb20gXCIuLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2hhbm5lbE92ZXJ3cml0ZShib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBjb25zdCBlZGl0Q2hhbm5lbE92ZXJ3cml0ZU9sZCA9IGJvdC5oZWxwZXJzLmVkaXRDaGFubmVsT3ZlcndyaXRlO1xuXG4gIGJvdC5oZWxwZXJzLmVkaXRDaGFubmVsT3ZlcndyaXRlID0gYXN5bmMgZnVuY3Rpb24gKGNoYW5uZWxJZCwgb3ZlcndyaXRlKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGJvdC5jaGFubmVscy5nZXQoY2hhbm5lbElkKTtcbiAgICBpZiAoY2hhbm5lbD8uZ3VpbGRJZCkge1xuICAgICAgcmVxdWlyZUJvdENoYW5uZWxQZXJtaXNzaW9ucyhib3QsIGNoYW5uZWxJZCwgW1wiTUFOQUdFX1JPTEVTXCJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgZWRpdENoYW5uZWxPdmVyd3JpdGVPbGQoY2hhbm5lbElkLCBvdmVyd3JpdGUpO1xuICB9O1xufVxuIl19