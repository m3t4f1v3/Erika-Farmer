import { GatewayOpcodes } from "../../types/shared.ts";
/** Connect or join a voice channel inside a guild. By default, the "selfDeaf" option is true. Requires `CONNECT` and `VIEW_CHANNEL` permissions. */ export async function connectToVoiceChannel(bot, guildId, channelId, options) {
    const shardId = bot.utils.calculateShardId(bot.gateway, guildId);
    const shard = bot.gateway.manager.shards.get(shardId);
    if (!shard) {
        throw new Error(`Shard (id: ${shardId} not found`);
    }
    shard.send({
        op: GatewayOpcodes.VoiceStateUpdate,
        d: {
            guild_id: guildId.toString(),
            channel_id: channelId.toString(),
            self_mute: Boolean(options?.selfMute),
            self_deaf: options?.selfDeaf ?? true
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEJvdCB9IGZyb20gXCIuLi8uLi9ib3QudHNcIjtcbmltcG9ydCB7IEF0TGVhc3RPbmUsIEdhdGV3YXlPcGNvZGVzIH0gZnJvbSBcIi4uLy4uL3R5cGVzL3NoYXJlZC50c1wiO1xuXG4vKiogQ29ubmVjdCBvciBqb2luIGEgdm9pY2UgY2hhbm5lbCBpbnNpZGUgYSBndWlsZC4gQnkgZGVmYXVsdCwgdGhlIFwic2VsZkRlYWZcIiBvcHRpb24gaXMgdHJ1ZS4gUmVxdWlyZXMgYENPTk5FQ1RgIGFuZCBgVklFV19DSEFOTkVMYCBwZXJtaXNzaW9ucy4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9Wb2ljZUNoYW5uZWwoXG4gIGJvdDogQm90LFxuICBndWlsZElkOiBiaWdpbnQsXG4gIGNoYW5uZWxJZDogYmlnaW50LFxuICBvcHRpb25zPzogQXRMZWFzdE9uZTxPbWl0PFVwZGF0ZVZvaWNlU3RhdGUsIFwiZ3VpbGRJZFwiIHwgXCJjaGFubmVsSWRcIj4+LFxuKSB7XG4gIGNvbnN0IHNoYXJkSWQgPSBib3QudXRpbHMuY2FsY3VsYXRlU2hhcmRJZChib3QuZ2F0ZXdheSwgZ3VpbGRJZCk7XG4gIGNvbnN0IHNoYXJkID0gYm90LmdhdGV3YXkubWFuYWdlci5zaGFyZHMuZ2V0KHNoYXJkSWQpO1xuICBpZiAoIXNoYXJkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBTaGFyZCAoaWQ6ICR7c2hhcmRJZH0gbm90IGZvdW5kYCk7XG4gIH1cblxuICBzaGFyZC5zZW5kKHtcbiAgICBvcDogR2F0ZXdheU9wY29kZXMuVm9pY2VTdGF0ZVVwZGF0ZSxcbiAgICBkOiB7XG4gICAgICBndWlsZF9pZDogZ3VpbGRJZC50b1N0cmluZygpLFxuICAgICAgY2hhbm5lbF9pZDogY2hhbm5lbElkLnRvU3RyaW5nKCksXG4gICAgICBzZWxmX211dGU6IEJvb2xlYW4ob3B0aW9ucz8uc2VsZk11dGUpLFxuICAgICAgc2VsZl9kZWFmOiBvcHRpb25zPy5zZWxmRGVhZiA/PyB0cnVlLFxuICAgIH0sXG4gIH0pO1xufVxuXG4vKiogaHR0cHM6Ly9kaXNjb3JkLmNvbS9kZXZlbG9wZXJzL2RvY3MvdG9waWNzL2dhdGV3YXkjdXBkYXRlLXZvaWNlLXN0YXRlICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVZvaWNlU3RhdGUge1xuICAvKiogaWQgb2YgdGhlIGd1aWxkICovXG4gIGd1aWxkSWQ6IHN0cmluZztcbiAgLyoqIGlkIG9mIHRoZSB2b2ljZSBjaGFubmVsIGNsaWVudCB3YW50cyB0byBqb2luIChudWxsIGlmIGRpc2Nvbm5lY3RpbmcpICovXG4gIGNoYW5uZWxJZDogc3RyaW5nIHwgbnVsbDtcbiAgLyoqIElzIHRoZSBjbGllbnQgbXV0ZWQgKi9cbiAgc2VsZk11dGU6IGJvb2xlYW47XG4gIC8qKiBJcyB0aGUgY2xpZW50IGRlYWZlbmVkICovXG4gIHNlbGZEZWFmOiBib29sZWFuO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLFNBQXFCLGNBQWMsUUFBUSx1QkFBdUIsQ0FBQztBQUVuRSxvSkFBb0osQ0FDcEosT0FBTyxlQUFlLHFCQUFxQixDQUN6QyxHQUFRLEVBQ1IsT0FBZSxFQUNmLFNBQWlCLEVBQ2pCLE9BQXFFLEVBQ3JFO0lBQ0EsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxBQUFDO0lBQ2pFLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEFBQUM7SUFDdEQsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7S0FDcEQ7SUFFRCxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ1QsRUFBRSxFQUFFLGNBQWMsQ0FBQyxnQkFBZ0I7UUFDbkMsQ0FBQyxFQUFFO1lBQ0QsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRLEVBQUU7WUFDNUIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxRQUFRLEVBQUU7WUFDaEMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDO1lBQ3JDLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxJQUFJLElBQUk7U0FDckM7S0FDRixDQUFDLENBQUM7Q0FDSiJ9