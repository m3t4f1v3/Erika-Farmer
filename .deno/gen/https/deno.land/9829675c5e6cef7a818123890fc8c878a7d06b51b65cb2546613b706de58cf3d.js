/** Cleans up the queues by checking if there is nothing left and removing it. */ export function cleanupQueues(rest) {
    for (const [key, queue] of rest.pathQueues){
        rest.debug(`[REST - cleanupQueues] Running for of loop. ${key}`);
        if (queue.requests.length) continue;
        // REMOVE IT FROM CACHE
        rest.pathQueues.delete(key);
    }
    // NO QUEUE LEFT, DISABLE THE QUEUE
    if (!rest.pathQueues.size) rest.processingQueue = false;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN0TWFuYWdlciB9IGZyb20gXCIuLi9ib3QudHNcIjtcblxuLyoqIENsZWFucyB1cCB0aGUgcXVldWVzIGJ5IGNoZWNraW5nIGlmIHRoZXJlIGlzIG5vdGhpbmcgbGVmdCBhbmQgcmVtb3ZpbmcgaXQuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYW51cFF1ZXVlcyhyZXN0OiBSZXN0TWFuYWdlcikge1xuICBmb3IgKGNvbnN0IFtrZXksIHF1ZXVlXSBvZiByZXN0LnBhdGhRdWV1ZXMpIHtcbiAgICByZXN0LmRlYnVnKGBbUkVTVCAtIGNsZWFudXBRdWV1ZXNdIFJ1bm5pbmcgZm9yIG9mIGxvb3AuICR7a2V5fWApO1xuICAgIGlmIChxdWV1ZS5yZXF1ZXN0cy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgIC8vIFJFTU9WRSBJVCBGUk9NIENBQ0hFXG4gICAgcmVzdC5wYXRoUXVldWVzLmRlbGV0ZShrZXkpO1xuICB9XG5cbiAgLy8gTk8gUVVFVUUgTEVGVCwgRElTQUJMRSBUSEUgUVVFVUVcbiAgaWYgKCFyZXN0LnBhdGhRdWV1ZXMuc2l6ZSkgcmVzdC5wcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxpRkFBaUYsQ0FDakYsT0FBTyxTQUFTLGFBQWEsQ0FBQyxJQUFpQixFQUFFO0lBQy9DLEtBQUssTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFFO1FBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxTQUFTO1FBQ3BDLHVCQUF1QjtRQUN2QixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUM3QjtJQUVELG1DQUFtQztJQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7Q0FDekQifQ==