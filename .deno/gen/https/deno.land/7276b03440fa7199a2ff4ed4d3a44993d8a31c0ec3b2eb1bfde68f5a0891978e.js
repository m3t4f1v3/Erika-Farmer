import { requireBotChannelPermissions } from "../permissions.ts";
export default function deleteChannelOverwrite(bot) {
    const deleteChannelOverwriteOld = bot.helpers.deleteChannelOverwrite;
    bot.helpers.deleteChannelOverwrite = async function (channelId, overwriteId) {
        const channel = bot.channels.get(channelId);
        if (channel?.guildId) {
            requireBotChannelPermissions(bot, channelId, ["MANAGE_ROLES"]);
        }
        return await deleteChannelOverwriteOld(channelId, overwriteId);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlQ2hhbm5lbE92ZXJ3cml0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRlbGV0ZUNoYW5uZWxPdmVyd3JpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFakUsTUFBTSxDQUFDLE9BQU8sVUFBVSxzQkFBc0IsQ0FBQyxHQUFpQjtJQUM5RCxNQUFNLHlCQUF5QixHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7SUFFckUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxLQUFLLFdBQVcsU0FBUyxFQUFFLFdBQVc7UUFDekUsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFNUMsSUFBSSxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ3BCLDRCQUE0QixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsT0FBTyxNQUFNLHlCQUF5QixDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm90V2l0aENhY2hlIH0gZnJvbSBcIi4uLy4uL2RlcHMudHNcIjtcbmltcG9ydCB7IHJlcXVpcmVCb3RDaGFubmVsUGVybWlzc2lvbnMgfSBmcm9tIFwiLi4vcGVybWlzc2lvbnMudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbE92ZXJ3cml0ZShib3Q6IEJvdFdpdGhDYWNoZSkge1xuICBjb25zdCBkZWxldGVDaGFubmVsT3ZlcndyaXRlT2xkID0gYm90LmhlbHBlcnMuZGVsZXRlQ2hhbm5lbE92ZXJ3cml0ZTtcblxuICBib3QuaGVscGVycy5kZWxldGVDaGFubmVsT3ZlcndyaXRlID0gYXN5bmMgZnVuY3Rpb24gKGNoYW5uZWxJZCwgb3ZlcndyaXRlSWQpIHtcbiAgICBjb25zdCBjaGFubmVsID0gYm90LmNoYW5uZWxzLmdldChjaGFubmVsSWQpO1xuXG4gICAgaWYgKGNoYW5uZWw/Lmd1aWxkSWQpIHtcbiAgICAgIHJlcXVpcmVCb3RDaGFubmVsUGVybWlzc2lvbnMoYm90LCBjaGFubmVsSWQsIFtcIk1BTkFHRV9ST0xFU1wiXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGRlbGV0ZUNoYW5uZWxPdmVyd3JpdGVPbGQoY2hhbm5lbElkLCBvdmVyd3JpdGVJZCk7XG4gIH07XG59XG4iXX0=