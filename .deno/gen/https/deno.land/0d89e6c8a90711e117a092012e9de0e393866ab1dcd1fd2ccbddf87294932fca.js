import { requireBotGuildPermissions } from "./permissions.ts";
export function deleteIntegration(bot) {
    const deleteIntegrationOld = bot.helpers.deleteIntegration;
    bot.helpers.deleteIntegration = async function(guildId, id) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_GUILD"
        ]);
        return await deleteIntegrationOld(guildId, id);
    };
}
export function getIntegrations(bot) {
    const getIntegrationsOld = bot.helpers.getIntegrations;
    bot.helpers.getIntegrations = async function(guildId) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_GUILD"
        ]);
        return await getIntegrationsOld(guildId);
    };
}
export default function setupIntegrationPermChecks(bot) {
    deleteIntegration(bot);
    getIntegrations(bot);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMgfSBmcm9tIFwiLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlSW50ZWdyYXRpb24oYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgZGVsZXRlSW50ZWdyYXRpb25PbGQgPSBib3QuaGVscGVycy5kZWxldGVJbnRlZ3JhdGlvbjtcblxuICBib3QuaGVscGVycy5kZWxldGVJbnRlZ3JhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkLCBpZCkge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0dVSUxEXCJdKTtcblxuICAgIHJldHVybiBhd2FpdCBkZWxldGVJbnRlZ3JhdGlvbk9sZChndWlsZElkLCBpZCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlZ3JhdGlvbnMoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgZ2V0SW50ZWdyYXRpb25zT2xkID0gYm90LmhlbHBlcnMuZ2V0SW50ZWdyYXRpb25zO1xuXG4gIGJvdC5oZWxwZXJzLmdldEludGVncmF0aW9ucyA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkKSB7XG4gICAgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMoYm90LCBndWlsZElkLCBbXCJNQU5BR0VfR1VJTERcIl0pO1xuXG4gICAgcmV0dXJuIGF3YWl0IGdldEludGVncmF0aW9uc09sZChndWlsZElkKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dXBJbnRlZ3JhdGlvblBlcm1DaGVja3MoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgZGVsZXRlSW50ZWdyYXRpb24oYm90KTtcbiAgZ2V0SW50ZWdyYXRpb25zKGJvdCk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBUywwQkFBMEIsUUFBUSxrQkFBa0IsQ0FBQztBQUU5RCxPQUFPLFNBQVMsaUJBQWlCLENBQUMsR0FBaUIsRUFBRTtJQUNuRCxNQUFNLG9CQUFvQixHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEFBQUM7SUFFM0QsR0FBRyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxlQUFnQixPQUFPLEVBQUUsRUFBRSxFQUFFO1FBQzNELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUU7WUFBQyxjQUFjO1NBQUMsQ0FBQyxDQUFDO1FBRTNELE9BQU8sTUFBTSxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDaEQsQ0FBQztDQUNIO0FBRUQsT0FBTyxTQUFTLGVBQWUsQ0FBQyxHQUFpQixFQUFFO0lBQ2pELE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLEFBQUM7SUFFdkQsR0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsZUFBZ0IsT0FBTyxFQUFFO1FBQ3JELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUU7WUFBQyxjQUFjO1NBQUMsQ0FBQyxDQUFDO1FBRTNELE9BQU8sTUFBTSxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUMxQyxDQUFDO0NBQ0g7QUFFRCxlQUFlLFNBQVMsMEJBQTBCLENBQUMsR0FBaUIsRUFBRTtJQUNwRSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2QixlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDdEIsQ0FBQSJ9