export function calculateWorkerId(manager, shardId) {
    // Ignore decimal numbers.
    let workerId = Math.floor(shardId / manager.shardsPerWorker);
    // If the workerId overflows the maximal allowed workers we by default just use to last worker.
    if (workerId >= manager.totalWorkers) {
        // The Id of the last available worker is total -1
        workerId = manager.totalWorkers - 1;
    }
    return workerId;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYXRld2F5TWFuYWdlciB9IGZyb20gXCIuL2dhdGV3YXlNYW5hZ2VyLnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXb3JrZXJJZChtYW5hZ2VyOiBHYXRld2F5TWFuYWdlciwgc2hhcmRJZDogbnVtYmVyKSB7XG4gIC8vIElnbm9yZSBkZWNpbWFsIG51bWJlcnMuXG4gIGxldCB3b3JrZXJJZCA9IE1hdGguZmxvb3IoKHNoYXJkSWQpIC8gbWFuYWdlci5zaGFyZHNQZXJXb3JrZXIpO1xuICAvLyBJZiB0aGUgd29ya2VySWQgb3ZlcmZsb3dzIHRoZSBtYXhpbWFsIGFsbG93ZWQgd29ya2VycyB3ZSBieSBkZWZhdWx0IGp1c3QgdXNlIHRvIGxhc3Qgd29ya2VyLlxuICBpZiAod29ya2VySWQgPj0gbWFuYWdlci50b3RhbFdvcmtlcnMpIHtcbiAgICAvLyBUaGUgSWQgb2YgdGhlIGxhc3QgYXZhaWxhYmxlIHdvcmtlciBpcyB0b3RhbCAtMVxuICAgIHdvcmtlcklkID0gbWFuYWdlci50b3RhbFdvcmtlcnMgLSAxO1xuICB9XG5cbiAgcmV0dXJuIHdvcmtlcklkO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sU0FBUyxpQkFBaUIsQ0FBQyxPQUF1QixFQUFFLE9BQWUsRUFBRTtJQUMxRSwwQkFBMEI7SUFDMUIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxBQUFDLE9BQU8sR0FBSSxPQUFPLENBQUMsZUFBZSxDQUFDLEFBQUM7SUFDL0QsK0ZBQStGO0lBQy9GLElBQUksUUFBUSxJQUFJLE9BQU8sQ0FBQyxZQUFZLEVBQUU7UUFDcEMsa0RBQWtEO1FBQ2xELFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztLQUNyQztJQUVELE9BQU8sUUFBUSxDQUFDO0NBQ2pCIn0=