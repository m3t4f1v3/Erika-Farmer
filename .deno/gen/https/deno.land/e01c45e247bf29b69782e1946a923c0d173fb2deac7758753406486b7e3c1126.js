export async function createEmoji(bot, guildId, options) {
    if (options.image && !options.image.startsWith("data:image/")) {
        options.image = await bot.utils.urlToBase64(options.image);
    }
    const emoji = await bot.rest.runMethod(bot.rest, "POST", bot.constants.routes.GUILD_EMOJIS(guildId), {
        name: options.name,
        image: options.image,
        roles: options.roles?.map((role) => role.toString()),
        reason: options.reason,
    });
    return bot.transformers.emoji(bot, emoji);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlRW1vamkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjcmVhdGVFbW9qaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLENBQUMsS0FBSyxVQUFVLFdBQVcsQ0FBQyxHQUFRLEVBQUUsT0FBZSxFQUFFLE9BQXlCO0lBQ3BGLElBQUksT0FBTyxDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1FBQzdELE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDNUQ7SUFFRCxNQUFNLEtBQUssR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUNwQyxHQUFHLENBQUMsSUFBSSxFQUNSLE1BQU0sRUFDTixHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQzFDO1FBQ0UsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO1FBQ2xCLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSztRQUNwQixLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwRCxNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07S0FDdkIsQ0FDRixDQUFDO0lBRUYsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDNUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSBcIi4uLy4uL2JvdC50c1wiO1xuaW1wb3J0IHsgRGlzY29yZEVtb2ppIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2Rpc2NvcmQudHNcIjtcblxuLyoqIENyZWF0ZSBhbiBlbW9qaSBpbiB0aGUgc2VydmVyICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRW1vamkoYm90OiBCb3QsIGd1aWxkSWQ6IGJpZ2ludCwgb3B0aW9uczogQ3JlYXRlR3VpbGRFbW9qaSkge1xuICBpZiAob3B0aW9ucy5pbWFnZSAmJiAhb3B0aW9ucy5pbWFnZS5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9cIikpIHtcbiAgICBvcHRpb25zLmltYWdlID0gYXdhaXQgYm90LnV0aWxzLnVybFRvQmFzZTY0KG9wdGlvbnMuaW1hZ2UpO1xuICB9XG5cbiAgY29uc3QgZW1vamkgPSBhd2FpdCBib3QucmVzdC5ydW5NZXRob2Q8RGlzY29yZEVtb2ppPihcbiAgICBib3QucmVzdCxcbiAgICBcIlBPU1RcIixcbiAgICBib3QuY29uc3RhbnRzLnJvdXRlcy5HVUlMRF9FTU9KSVMoZ3VpbGRJZCksXG4gICAge1xuICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgaW1hZ2U6IG9wdGlvbnMuaW1hZ2UsXG4gICAgICByb2xlczogb3B0aW9ucy5yb2xlcz8ubWFwKChyb2xlKSA9PiByb2xlLnRvU3RyaW5nKCkpLFxuICAgICAgcmVhc29uOiBvcHRpb25zLnJlYXNvbixcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBib3QudHJhbnNmb3JtZXJzLmVtb2ppKGJvdCwgZW1vamkpO1xufVxuXG4vKiogaHR0cHM6Ly9kaXNjb3JkLmNvbS9kZXZlbG9wZXJzL2RvY3MvcmVzb3VyY2VzL2Vtb2ppI2NyZWF0ZS1ndWlsZC1lbW9qaSAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVHdWlsZEVtb2ppIHtcbiAgLyoqIE5hbWUgb2YgdGhlIGVtb2ppICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIFRoZSAxMjh4MTI4IGVtb2ppIGltYWdlLiBFbW9qaXMgYW5kIGFuaW1hdGVkIGVtb2ppcyBoYXZlIGEgbWF4aW11bSBmaWxlIHNpemUgb2YgMjU2a2IuIEF0dGVtcHRpbmcgdG8gdXBsb2FkIGFuIGVtb2ppIGxhcmdlciB0aGFuIHRoaXMgbGltaXQgd2lsbCBmYWlsIGFuZCByZXR1cm4gNDAwIEJhZCBSZXF1ZXN0IGFuZCBhbiBlcnJvciBtZXNzYWdlLCBidXQgbm90IGEgSlNPTiBzdGF0dXMgY29kZS4gSWYgYSBVUkwgaXMgcHJvdmlkZWQgdG8gdGhlIGltYWdlIHBhcmFtZXRlciwgRGlzY29yZGVubyB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBpdCB0byBhIGJhc2U2NCBzdHJpbmcgaW50ZXJuYWxseS4gKi9cbiAgaW1hZ2U6IHN0cmluZztcbiAgLyoqIFJvbGVzIGFsbG93ZWQgdG8gdXNlIHRoaXMgZW1vamkgKi9cbiAgcm9sZXM/OiBiaWdpbnRbXTtcbiAgLyoqIFRoZSByZWFzb24geW91IGFyZSBjcmVhdGluZyB0aGlzIGVtb2ppICovXG4gIHJlYXNvbj86IHN0cmluZztcbn1cbiJdfQ==