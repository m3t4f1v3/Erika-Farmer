import { requireBotChannelPermissions } from "../permissions.ts";
export default function followChannel(bot) {
    const followChannelOld = bot.helpers.followChannel;
    bot.helpers.followChannel = async function (sourceChannelId, targetChannelId) {
        const channel = bot.channels.get(targetChannelId);
        if (channel?.guildId) {
            requireBotChannelPermissions(bot, channel, ["MANAGE_WEBHOOKS"]);
        }
        return await followChannelOld(sourceChannelId, targetChannelId);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9sbG93Q2hhbm5lbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImZvbGxvd0NoYW5uZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFakUsTUFBTSxDQUFDLE9BQU8sVUFBVSxhQUFhLENBQUMsR0FBaUI7SUFDckQsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUVuRCxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsR0FBRyxLQUFLLFdBQVcsZUFBZSxFQUFFLGVBQWU7UUFDMUUsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbEQsSUFBSSxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ3BCLDRCQUE0QixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7U0FDakU7UUFFRCxPQUFPLE1BQU0sZ0JBQWdCLENBQUMsZUFBZSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdENoYW5uZWxQZXJtaXNzaW9ucyB9IGZyb20gXCIuLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb2xsb3dDaGFubmVsKGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGZvbGxvd0NoYW5uZWxPbGQgPSBib3QuaGVscGVycy5mb2xsb3dDaGFubmVsO1xuXG4gIGJvdC5oZWxwZXJzLmZvbGxvd0NoYW5uZWwgPSBhc3luYyBmdW5jdGlvbiAoc291cmNlQ2hhbm5lbElkLCB0YXJnZXRDaGFubmVsSWQpIHtcbiAgICBjb25zdCBjaGFubmVsID0gYm90LmNoYW5uZWxzLmdldCh0YXJnZXRDaGFubmVsSWQpO1xuICAgIGlmIChjaGFubmVsPy5ndWlsZElkKSB7XG4gICAgICByZXF1aXJlQm90Q2hhbm5lbFBlcm1pc3Npb25zKGJvdCwgY2hhbm5lbCwgW1wiTUFOQUdFX1dFQkhPT0tTXCJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgZm9sbG93Q2hhbm5lbE9sZChzb3VyY2VDaGFubmVsSWQsIHRhcmdldENoYW5uZWxJZCk7XG4gIH07XG59XG4iXX0=