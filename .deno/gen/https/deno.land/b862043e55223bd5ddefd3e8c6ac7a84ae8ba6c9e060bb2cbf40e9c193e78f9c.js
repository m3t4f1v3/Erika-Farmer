import { requireBotChannelPermissions } from "../permissions.ts";
export default function followChannel(bot) {
    const followChannelOld = bot.helpers.followChannel;
    bot.helpers.followChannel = async function(sourceChannelId, targetChannelId) {
        const channel = bot.channels.get(targetChannelId);
        if (channel?.guildId) {
            requireBotChannelPermissions(bot, channel, [
                "MANAGE_WEBHOOKS"
            ]);
        }
        return await followChannelOld(sourceChannelId, targetChannelId);
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdENoYW5uZWxQZXJtaXNzaW9ucyB9IGZyb20gXCIuLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb2xsb3dDaGFubmVsKGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGZvbGxvd0NoYW5uZWxPbGQgPSBib3QuaGVscGVycy5mb2xsb3dDaGFubmVsO1xuXG4gIGJvdC5oZWxwZXJzLmZvbGxvd0NoYW5uZWwgPSBhc3luYyBmdW5jdGlvbiAoc291cmNlQ2hhbm5lbElkLCB0YXJnZXRDaGFubmVsSWQpIHtcbiAgICBjb25zdCBjaGFubmVsID0gYm90LmNoYW5uZWxzLmdldCh0YXJnZXRDaGFubmVsSWQpO1xuICAgIGlmIChjaGFubmVsPy5ndWlsZElkKSB7XG4gICAgICByZXF1aXJlQm90Q2hhbm5lbFBlcm1pc3Npb25zKGJvdCwgY2hhbm5lbCwgW1wiTUFOQUdFX1dFQkhPT0tTXCJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgZm9sbG93Q2hhbm5lbE9sZChzb3VyY2VDaGFubmVsSWQsIHRhcmdldENoYW5uZWxJZCk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBUyw0QkFBNEIsUUFBUSxtQkFBbUIsQ0FBQztBQUVqRSxlQUFlLFNBQVMsYUFBYSxDQUFDLEdBQWlCLEVBQUU7SUFDdkQsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQUFBQztJQUVuRCxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsR0FBRyxlQUFnQixlQUFlLEVBQUUsZUFBZSxFQUFFO1FBQzVFLE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxBQUFDO1FBQ2xELElBQUksT0FBTyxFQUFFLE9BQU8sRUFBRTtZQUNwQiw0QkFBNEIsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFO2dCQUFDLGlCQUFpQjthQUFDLENBQUMsQ0FBQztTQUNqRTtRQUVELE9BQU8sTUFBTSxnQkFBZ0IsQ0FBQyxlQUFlLEVBQUUsZUFBZSxDQUFDLENBQUM7S0FDakUsQ0FBQztDQUNILENBQUEifQ==