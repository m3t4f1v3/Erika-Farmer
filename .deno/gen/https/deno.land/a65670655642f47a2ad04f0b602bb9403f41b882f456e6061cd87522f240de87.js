/** Fetch members for an entire guild then return the entire guilds cached members. */ export async function fetchAndRetrieveMembers(bot, guildId) {
    if (!bot.enabledPlugins?.has("CACHE")) {
        throw new Error("The fetchAndRetrieveMembers function requires the CACHE plugin first.");
    }
    const guild = bot.guilds.get(guildId);
    if (!guild) {
        throw new Error("The guild was not found in cache. Unable to fetch members for uncached guild.");
    }
    await bot.helpers.fetchMembers(guildId, guild.shardId);
    return bot.members.filter((member)=>member.guildId === guildId
    );
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vLi4vY2FjaGUvc3JjL2FkZENhY2hlQ29sbGVjdGlvbnMudHNcIjtcblxuLyoqIEZldGNoIG1lbWJlcnMgZm9yIGFuIGVudGlyZSBndWlsZCB0aGVuIHJldHVybiB0aGUgZW50aXJlIGd1aWxkcyBjYWNoZWQgbWVtYmVycy4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFuZFJldHJpZXZlTWVtYmVycyhib3Q6IEJvdFdpdGhDYWNoZSwgZ3VpbGRJZDogYmlnaW50KSB7XG4gIGlmICghYm90LmVuYWJsZWRQbHVnaW5zPy5oYXMoXCJDQUNIRVwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBmZXRjaEFuZFJldHJpZXZlTWVtYmVycyBmdW5jdGlvbiByZXF1aXJlcyB0aGUgQ0FDSEUgcGx1Z2luIGZpcnN0LlwiKTtcbiAgfVxuXG4gIGNvbnN0IGd1aWxkID0gYm90Lmd1aWxkcy5nZXQoZ3VpbGRJZCk7XG4gIGlmICghZ3VpbGQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZ3VpbGQgd2FzIG5vdCBmb3VuZCBpbiBjYWNoZS4gVW5hYmxlIHRvIGZldGNoIG1lbWJlcnMgZm9yIHVuY2FjaGVkIGd1aWxkLlwiKTtcbiAgfVxuXG4gIGF3YWl0IGJvdC5oZWxwZXJzLmZldGNoTWVtYmVycyhndWlsZElkLCBndWlsZC5zaGFyZElkKTtcbiAgcmV0dXJuIGJvdC5tZW1iZXJzLmZpbHRlcigobWVtYmVyKSA9PiBtZW1iZXIuZ3VpbGRJZCA9PT0gZ3VpbGRJZCk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsc0ZBQXNGLENBQ3RGLE9BQU8sZUFBZSx1QkFBdUIsQ0FBQyxHQUFpQixFQUFFLE9BQWUsRUFBRTtJQUNoRixJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDckMsTUFBTSxJQUFJLEtBQUssQ0FBQyx1RUFBdUUsQ0FBQyxDQUFDO0tBQzFGO0lBRUQsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEFBQUM7SUFDdEMsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsK0VBQStFLENBQUMsQ0FBQztLQUNsRztJQUVELE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2RCxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFLLE1BQU0sQ0FBQyxPQUFPLEtBQUssT0FBTztJQUFBLENBQUMsQ0FBQztDQUNuRSJ9