import { Collection } from "../../util/collection.ts";
export async function getIntegrations(bot, guildId) {
    const result = await bot.rest.runMethod(bot.rest, "GET", bot.constants.routes.GUILD_INTEGRATIONS(guildId));
    return new Collection(result.map((res) => {
        const integration = bot.transformers.integration(bot, {
            guild_id: guildId.toString(),
            id: res.id,
            name: res.name,
            type: res.type,
            enabled: res.enabled,
            syncing: res.syncing,
            role_id: res.role_id,
            enable_emoticons: res.enable_emoticons,
            expire_behavior: res.expire_behavior,
            expire_grace_period: res.expire_grace_period,
            user: res.user,
            account: res.account,
            synced_at: res.synced_at,
            subscriber_count: res.subscriber_count,
            revoked: res.revoked,
            application: res.application,
        });
        return [integration.id, integration];
    }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0SW50ZWdyYXRpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2V0SW50ZWdyYXRpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUl0RCxNQUFNLENBQUMsS0FBSyxVQUFVLGVBQWUsQ0FBQyxHQUFRLEVBQUUsT0FBZTtJQUM3RCxNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUNyQyxHQUFHLENBQUMsSUFBSSxFQUNSLEtBQUssRUFDTCxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FDakQsQ0FBQztJQUVGLE9BQU8sSUFBSSxVQUFVLENBQ25CLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNqQixNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDcEQsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRLEVBQUU7WUFDNUIsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFO1lBQ1YsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJO1lBQ2QsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJO1lBQ2QsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPO1lBQ3BCLE9BQU8sRUFBRSxHQUFHLENBQUMsT0FBTztZQUNwQixPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87WUFDcEIsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLGdCQUFnQjtZQUN0QyxlQUFlLEVBQUUsR0FBRyxDQUFDLGVBQWU7WUFDcEMsbUJBQW1CLEVBQUUsR0FBRyxDQUFDLG1CQUFtQjtZQUM1QyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUk7WUFDZCxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87WUFDcEIsU0FBUyxFQUFFLEdBQUcsQ0FBQyxTQUFTO1lBQ3hCLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxnQkFBZ0I7WUFDdEMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPO1lBQ3BCLFdBQVcsRUFBRSxHQUFHLENBQUMsV0FBVztTQUM3QixDQUFDLENBQUM7UUFDSCxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUN2QyxDQUFDLENBQUMsQ0FDSCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSBcIi4uLy4uL2JvdC50c1wiO1xuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gXCIuLi8uLi91dGlsL2NvbGxlY3Rpb24udHNcIjtcbmltcG9ydCB7IERpc2NvcmRJbnRlZ3JhdGlvbiB9IGZyb20gXCIuLi8uLi90eXBlcy9kaXNjb3JkLnRzXCI7XG5cbi8qKiBSZXR1cm5zIGEgbGlzdCBvZiBpbnRlZ3JhdGlvbnMgZm9yIHRoZSBndWlsZC4gUmVxdWlyZXMgdGhlIE1BTkFHRV9HVUlMRCBwZXJtaXNzaW9uLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEludGVncmF0aW9ucyhib3Q6IEJvdCwgZ3VpbGRJZDogYmlnaW50KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGJvdC5yZXN0LnJ1bk1ldGhvZDxEaXNjb3JkSW50ZWdyYXRpb25bXT4oXG4gICAgYm90LnJlc3QsXG4gICAgXCJHRVRcIixcbiAgICBib3QuY29uc3RhbnRzLnJvdXRlcy5HVUlMRF9JTlRFR1JBVElPTlMoZ3VpbGRJZCksXG4gICk7XG5cbiAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKFxuICAgIHJlc3VsdC5tYXAoKHJlcykgPT4ge1xuICAgICAgY29uc3QgaW50ZWdyYXRpb24gPSBib3QudHJhbnNmb3JtZXJzLmludGVncmF0aW9uKGJvdCwge1xuICAgICAgICBndWlsZF9pZDogZ3VpbGRJZC50b1N0cmluZygpLFxuICAgICAgICBpZDogcmVzLmlkLFxuICAgICAgICBuYW1lOiByZXMubmFtZSxcbiAgICAgICAgdHlwZTogcmVzLnR5cGUsXG4gICAgICAgIGVuYWJsZWQ6IHJlcy5lbmFibGVkLFxuICAgICAgICBzeW5jaW5nOiByZXMuc3luY2luZyxcbiAgICAgICAgcm9sZV9pZDogcmVzLnJvbGVfaWQsXG4gICAgICAgIGVuYWJsZV9lbW90aWNvbnM6IHJlcy5lbmFibGVfZW1vdGljb25zLFxuICAgICAgICBleHBpcmVfYmVoYXZpb3I6IHJlcy5leHBpcmVfYmVoYXZpb3IsXG4gICAgICAgIGV4cGlyZV9ncmFjZV9wZXJpb2Q6IHJlcy5leHBpcmVfZ3JhY2VfcGVyaW9kLFxuICAgICAgICB1c2VyOiByZXMudXNlcixcbiAgICAgICAgYWNjb3VudDogcmVzLmFjY291bnQsXG4gICAgICAgIHN5bmNlZF9hdDogcmVzLnN5bmNlZF9hdCxcbiAgICAgICAgc3Vic2NyaWJlcl9jb3VudDogcmVzLnN1YnNjcmliZXJfY291bnQsXG4gICAgICAgIHJldm9rZWQ6IHJlcy5yZXZva2VkLFxuICAgICAgICBhcHBsaWNhdGlvbjogcmVzLmFwcGxpY2F0aW9uLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gW2ludGVncmF0aW9uLmlkLCBpbnRlZ3JhdGlvbl07XG4gICAgfSksXG4gICk7XG59XG4iXX0=