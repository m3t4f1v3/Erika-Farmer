const Mask = (1n << 64n) - 1n;
export function packOverwrites(allow, deny, id, type) {
    return pack64(allow, 0) | pack64(deny, 1) | pack64(id, 2) | pack64(type, 3);
}
function unpack64(v, shift) {
    return (v >> BigInt(shift * 64)) & Mask;
}
function pack64(v, shift) {
    const b = BigInt(v);
    if (b < 0 || b > Mask)
        throw new Error("should have been a 64 bit unsigned integer: " + v);
    return b << BigInt(shift * 64);
}
export function separateOverwrites(v) {
    return [Number(unpack64(v, 3)), unpack64(v, 2), unpack64(v, 0), unpack64(v, 1)];
}
export function transformChannel(bot, payload) {
    const channel = {
        type: payload.channel.type,
        position: payload.channel.position,
        name: payload.channel.name,
        topic: payload.channel.topic ?? undefined,
        nsfw: payload.channel.nsfw,
        bitrate: payload.channel.bitrate,
        userLimit: payload.channel.user_limit,
        rateLimitPerUser: payload.channel.rate_limit_per_user,
        rtcRegion: payload.channel.rtc_region ?? undefined,
        videoQualityMode: payload.channel.video_quality_mode,
        guildId: payload.guildId || (payload.channel.guild_id ? bot.transformers.snowflake(payload.channel.guild_id) : 0n),
        lastPinTimestamp: payload.channel.last_pin_timestamp ? Date.parse(payload.channel.last_pin_timestamp) : undefined,
        permissionOverwrites: payload.channel.permission_overwrites
            ? payload.channel.permission_overwrites.map((o) => packOverwrites(o.allow || "0", o.deny || "0", o.id, o.type))
            : [],
        id: bot.transformers.snowflake(payload.channel.id),
        permissions: payload.channel.permissions ? bot.transformers.snowflake(payload.channel.permissions) : undefined,
        lastMessageId: payload.channel.last_message_id
            ? bot.transformers.snowflake(payload.channel.last_message_id)
            : undefined,
        ownerId: payload.channel.owner_id ? bot.transformers.snowflake(payload.channel.owner_id) : undefined,
        applicationId: payload.channel.application_id
            ? bot.transformers.snowflake(payload.channel.application_id)
            : undefined,
        parentId: payload.channel.parent_id ? bot.transformers.snowflake(payload.channel.parent_id) : undefined,
        memberCount: payload.channel.member_count,
        messageCount: payload.channel.message_count,
        archiveTimestamp: payload.channel.thread_metadata?.archive_timestamp
            ? Date.parse(payload.channel.thread_metadata.archive_timestamp)
            : undefined,
        autoArchiveDuration: payload.channel.thread_metadata?.auto_archive_duration,
        botIsMember: Boolean(payload.channel.member),
        archived: payload.channel.thread_metadata?.archived,
        locked: payload.channel.thread_metadata?.locked,
        invitable: payload.channel.thread_metadata?.invitable,
        createTimestamp: payload.channel.thread_metadata?.create_timestamp
            ? Date.parse(payload.channel.thread_metadata.create_timestamp)
            : undefined,
        newlyCreated: payload.channel.newly_created,
        flags: payload.channel.flags,
    };
    return channel;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhbm5lbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNoYW5uZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsTUFBTSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTlCLE1BQU0sVUFBVSxjQUFjLENBQUMsS0FBYSxFQUFFLElBQVksRUFBRSxFQUFVLEVBQUUsSUFBWTtJQUNsRixPQUFPLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDOUUsQ0FBQztBQUNELFNBQVMsUUFBUSxDQUFDLENBQVMsRUFBRSxLQUFhO0lBQ3hDLE9BQU8sQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMxQyxDQUFDO0FBQ0QsU0FBUyxNQUFNLENBQUMsQ0FBa0IsRUFBRSxLQUFhO0lBQy9DLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUk7UUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzNGLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUNELE1BQU0sVUFBVSxrQkFBa0IsQ0FBQyxDQUFTO0lBQzFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFB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cm9tIFwiLi4vYm90LnRzXCI7XG5pbXBvcnQgeyBEaXNjb3JkQ2hhbm5lbCB9IGZyb20gXCIuLi90eXBlcy9kaXNjb3JkLnRzXCI7XG5pbXBvcnQgeyBPcHRpb25hbGl6ZSB9IGZyb20gXCIuLi90eXBlcy9zaGFyZWQudHNcIjtcblxuY29uc3QgTWFzayA9ICgxbiA8PCA2NG4pIC0gMW47XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWNrT3ZlcndyaXRlcyhhbGxvdzogc3RyaW5nLCBkZW55OiBzdHJpbmcsIGlkOiBzdHJpbmcsIHR5cGU6IG51bWJlcikge1xuICByZXR1cm4gcGFjazY0KGFsbG93LCAwKSB8IHBhY2s2NChkZW55LCAxKSB8IHBhY2s2NChpZCwgMikgfCBwYWNrNjQodHlwZSwgMyk7XG59XG5mdW5jdGlvbiB1bnBhY2s2NCh2OiBiaWdpbnQsIHNoaWZ0OiBudW1iZXIpIHtcbiAgcmV0dXJuICh2ID4+IEJpZ0ludChzaGlmdCAqIDY0KSkgJiBNYXNrO1xufVxuZnVuY3Rpb24gcGFjazY0KHY6IHN0cmluZyB8IG51bWJlciwgc2hpZnQ6IG51bWJlcikge1xuICBjb25zdCBiID0gQmlnSW50KHYpO1xuICBpZiAoYiA8IDAgfHwgYiA+IE1hc2spIHRocm93IG5ldyBFcnJvcihcInNob3VsZCBoYXZlIGJlZW4gYSA2NCBiaXQgdW5zaWduZWQgaW50ZWdlcjogXCIgKyB2KTtcbiAgcmV0dXJuIGIgPDwgQmlnSW50KHNoaWZ0ICogNjQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcGFyYXRlT3ZlcndyaXRlcyh2OiBiaWdpbnQpIHtcbiAgcmV0dXJuIFtOdW1iZXIodW5wYWNrNjQodiwgMykpLCB1bnBhY2s2NCh2LCAyKSwgdW5wYWNrNjQodiwgMCksIHVucGFjazY0KHYsIDEpXSBhcyBbbnVtYmVyLCBiaWdpbnQsIGJpZ2ludCwgYmlnaW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUNoYW5uZWwoYm90OiBCb3QsIHBheWxvYWQ6IHsgY2hhbm5lbDogRGlzY29yZENoYW5uZWwgfSAmIHsgZ3VpbGRJZD86IGJpZ2ludCB9KSB7XG4gIGNvbnN0IGNoYW5uZWwgPSB7XG4gICAgLy8gVU5UUkFOU0ZPUk1FRCBTVFVGRiBIRVJFXG4gICAgdHlwZTogcGF5bG9hZC5jaGFubmVsLnR5cGUsXG4gICAgcG9zaXRpb246IHBheWxvYWQuY2hhbm5lbC5wb3NpdGlvbixcbiAgICBuYW1lOiBwYXlsb2FkLmNoYW5uZWwubmFtZSxcbiAgICB0b3BpYzogcGF5bG9hZC5jaGFubmVsLnRvcGljID8/IHVuZGVmaW5lZCxcbiAgICBuc2Z3OiBwYXlsb2FkLmNoYW5uZWwubnNmdyxcbiAgICBiaXRyYXRlOiBwYXlsb2FkLmNoYW5uZWwuYml0cmF0ZSxcbiAgICB1c2VyTGltaXQ6IHBheWxvYWQuY2hhbm5lbC51c2VyX2xpbWl0LFxuICAgIHJhdGVMaW1pdFBlclVzZXI6IHBheWxvYWQuY2hhbm5lbC5yYXRlX2xpbWl0X3Blcl91c2VyLFxuICAgIC8vIHJlY2lwaWVudHM6IHBheWxvYWQuY2hhbm5lbC5yZWNpcGllbnRzPy5tYXAoKHIpID0+IGJvdC50cmFuc2Zvcm1lcnMudXNlcihib3QsIHIpKSxcbiAgICBydGNSZWdpb246IHBheWxvYWQuY2hhbm5lbC5ydGNfcmVnaW9uID8/IHVuZGVmaW5lZCxcbiAgICB2aWRlb1F1YWxpdHlNb2RlOiBwYXlsb2FkLmNoYW5uZWwudmlkZW9fcXVhbGl0eV9tb2RlLFxuICAgIGd1aWxkSWQ6IHBheWxvYWQuZ3VpbGRJZCB8fCAocGF5bG9hZC5jaGFubmVsLmd1aWxkX2lkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5jaGFubmVsLmd1aWxkX2lkKSA6IDBuKSxcbiAgICBsYXN0UGluVGltZXN0YW1wOiBwYXlsb2FkLmNoYW5uZWwubGFzdF9waW5fdGltZXN0YW1wID8gRGF0ZS5wYXJzZShwYXlsb2FkLmNoYW5uZWwubGFzdF9waW5fdGltZXN0YW1wKSA6IHVuZGVmaW5lZCxcbiAgICBwZXJtaXNzaW9uT3ZlcndyaXRlczogcGF5bG9hZC5jaGFubmVsLnBlcm1pc3Npb25fb3ZlcndyaXRlc1xuICAgICAgPyBwYXlsb2FkLmNoYW5uZWwucGVybWlzc2lvbl9vdmVyd3JpdGVzLm1hcCgobykgPT4gcGFja092ZXJ3cml0ZXMoby5hbGxvdyB8fCBcIjBcIiwgby5kZW55IHx8IFwiMFwiLCBvLmlkLCBvLnR5cGUpKVxuICAgICAgOiBbXSxcblxuICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmNoYW5uZWwuaWQpLFxuICAgIHBlcm1pc3Npb25zOiBwYXlsb2FkLmNoYW5uZWwucGVybWlzc2lvbnMgPyBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmNoYW5uZWwucGVybWlzc2lvbnMpIDogdW5kZWZpbmVkLFxuICAgIGxhc3RNZXNzYWdlSWQ6IHBheWxvYWQuY2hhbm5lbC5sYXN0X21lc3NhZ2VfaWRcbiAgICAgID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5jaGFubmVsLmxhc3RfbWVzc2FnZV9pZClcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIG93bmVySWQ6IHBheWxvYWQuY2hhbm5lbC5vd25lcl9pZCA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuY2hhbm5lbC5vd25lcl9pZCkgOiB1bmRlZmluZWQsXG4gICAgYXBwbGljYXRpb25JZDogcGF5bG9hZC5jaGFubmVsLmFwcGxpY2F0aW9uX2lkXG4gICAgICA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuY2hhbm5lbC5hcHBsaWNhdGlvbl9pZClcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIHBhcmVudElkOiBwYXlsb2FkLmNoYW5uZWwucGFyZW50X2lkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5jaGFubmVsLnBhcmVudF9pZCkgOiB1bmRlZmluZWQsXG4gICAgbWVtYmVyQ291bnQ6IHBheWxvYWQuY2hhbm5lbC5tZW1iZXJfY291bnQsXG4gICAgbWVzc2FnZUNvdW50OiBwYXlsb2FkLmNoYW5uZWwubWVzc2FnZV9jb3VudCxcbiAgICBhcmNoaXZlVGltZXN0YW1wOiBwYXlsb2FkLmNoYW5uZWwudGhyZWFkX21ldGFkYXRhPy5hcmNoaXZlX3RpbWVzdGFtcFxuICAgICAgPyBEYXRlLnBhcnNlKHBheWxvYWQuY2hhbm5lbC50aHJlYWRfbWV0YWRhdGEuYXJjaGl2ZV90aW1lc3RhbXApXG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICBhdXRvQXJjaGl2ZUR1cmF0aW9uOiBwYXlsb2FkLmNoYW5uZWwudGhyZWFkX21ldGFkYXRhPy5hdXRvX2FyY2hpdmVfZHVyYXRpb24sXG4gICAgYm90SXNNZW1iZXI6IEJvb2xlYW4ocGF5bG9hZC5jaGFubmVsLm1lbWJlciksXG4gICAgYXJjaGl2ZWQ6IHBheWxvYWQuY2hhbm5lbC50aHJlYWRfbWV0YWRhdGE/LmFyY2hpdmVkLFxuICAgIGxvY2tlZDogcGF5bG9hZC5jaGFubmVsLnRocmVhZF9tZXRhZGF0YT8ubG9ja2VkLFxuICAgIGludml0YWJsZTogcGF5bG9hZC5jaGFubmVsLnRocmVhZF9tZXRhZGF0YT8uaW52aXRhYmxlLFxuICAgIGNyZWF0ZVRpbWVzdGFtcDogcGF5bG9hZC5jaGFubmVsLnRocmVhZF9tZXRhZGF0YT8uY3JlYXRlX3RpbWVzdGFtcFxuICAgICAgPyBEYXRlLnBhcnNlKHBheWxvYWQuY2hhbm5lbC50aHJlYWRfbWV0YWRhdGEuY3JlYXRlX3RpbWVzdGFtcClcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIG5ld2x5Q3JlYXRlZDogcGF5bG9hZC5jaGFubmVsLm5ld2x5X2NyZWF0ZWQsXG4gICAgZmxhZ3M6IHBheWxvYWQuY2hhbm5lbC5mbGFncyxcbiAgfTtcblxuICByZXR1cm4gY2hhbm5lbCBhcyBPcHRpb25hbGl6ZTx0eXBlb2YgY2hhbm5lbD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbCBleHRlbmRzIFJldHVyblR5cGU8dHlwZW9mIHRyYW5zZm9ybUNoYW5uZWw+IHt9XG4iXX0=