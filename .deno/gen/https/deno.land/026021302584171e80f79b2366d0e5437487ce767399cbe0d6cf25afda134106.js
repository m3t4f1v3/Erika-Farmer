import { requireBotGuildPermissions } from "./permissions.ts";
export function createEmoji(bot) {
    const createEmojiOld = bot.helpers.createEmoji;
    bot.helpers.createEmoji = async function(guildId, id) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_EMOJIS"
        ]);
        return await createEmojiOld(guildId, id);
    };
}
export function deleteEmoji(bot) {
    const deleteEmojiOld = bot.helpers.deleteEmoji;
    bot.helpers.deleteEmoji = async function(guildId, id) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_EMOJIS"
        ]);
        return await deleteEmojiOld(guildId, id);
    };
}
export function editEmoji(bot) {
    const editEmojiOld = bot.helpers.editEmoji;
    bot.helpers.editEmoji = async function(guildId, id, options) {
        requireBotGuildPermissions(bot, guildId, [
            "MANAGE_EMOJIS"
        ]);
        return await editEmojiOld(guildId, id, options);
    };
}
export default function setupEmojiPermChecks(bot) {
    createEmoji(bot);
    deleteEmoji(bot);
    editEmoji(bot);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3RXaXRoQ2FjaGUgfSBmcm9tIFwiLi4vZGVwcy50c1wiO1xuaW1wb3J0IHsgcmVxdWlyZUJvdEd1aWxkUGVybWlzc2lvbnMgfSBmcm9tIFwiLi9wZXJtaXNzaW9ucy50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1vamkoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgY3JlYXRlRW1vamlPbGQgPSBib3QuaGVscGVycy5jcmVhdGVFbW9qaTtcblxuICBib3QuaGVscGVycy5jcmVhdGVFbW9qaSA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkLCBpZCkge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0VNT0pJU1wiXSk7XG5cbiAgICByZXR1cm4gYXdhaXQgY3JlYXRlRW1vamlPbGQoZ3VpbGRJZCwgaWQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRW1vamkoYm90OiBCb3RXaXRoQ2FjaGUpIHtcbiAgY29uc3QgZGVsZXRlRW1vamlPbGQgPSBib3QuaGVscGVycy5kZWxldGVFbW9qaTtcblxuICBib3QuaGVscGVycy5kZWxldGVFbW9qaSA9IGFzeW5jIGZ1bmN0aW9uIChndWlsZElkLCBpZCkge1xuICAgIHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGJvdCwgZ3VpbGRJZCwgW1wiTUFOQUdFX0VNT0pJU1wiXSk7XG5cbiAgICByZXR1cm4gYXdhaXQgZGVsZXRlRW1vamlPbGQoZ3VpbGRJZCwgaWQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdEVtb2ppKGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNvbnN0IGVkaXRFbW9qaU9sZCA9IGJvdC5oZWxwZXJzLmVkaXRFbW9qaTtcblxuICBib3QuaGVscGVycy5lZGl0RW1vamkgPSBhc3luYyBmdW5jdGlvbiAoZ3VpbGRJZCwgaWQsIG9wdGlvbnMpIHtcbiAgICByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyhib3QsIGd1aWxkSWQsIFtcIk1BTkFHRV9FTU9KSVNcIl0pO1xuXG4gICAgcmV0dXJuIGF3YWl0IGVkaXRFbW9qaU9sZChndWlsZElkLCBpZCwgb3B0aW9ucyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHVwRW1vamlQZXJtQ2hlY2tzKGJvdDogQm90V2l0aENhY2hlKSB7XG4gIGNyZWF0ZUVtb2ppKGJvdCk7XG4gIGRlbGV0ZUVtb2ppKGJvdCk7XG4gIGVkaXRFbW9qaShib3QpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLFNBQVMsMEJBQTBCLFFBQVEsa0JBQWtCLENBQUM7QUFFOUQsT0FBTyxTQUFTLFdBQVcsQ0FBQyxHQUFpQixFQUFFO0lBQzdDLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxBQUFDO0lBRS9DLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLGVBQWdCLE9BQU8sRUFBRSxFQUFFLEVBQUU7UUFDckQsMEJBQTBCLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtZQUFDLGVBQWU7U0FBQyxDQUFDLENBQUM7UUFFNUQsT0FBTyxNQUFNLGNBQWMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDMUMsQ0FBQztDQUNIO0FBRUQsT0FBTyxTQUFTLFdBQVcsQ0FBQyxHQUFpQixFQUFFO0lBQzdDLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxBQUFDO0lBRS9DLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLGVBQWdCLE9BQU8sRUFBRSxFQUFFLEVBQUU7UUFDckQsMEJBQTBCLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtZQUFDLGVBQWU7U0FBQyxDQUFDLENBQUM7UUFFNUQsT0FBTyxNQUFNLGNBQWMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDMUMsQ0FBQztDQUNIO0FBRUQsT0FBTyxTQUFTLFNBQVMsQ0FBQyxHQUFpQixFQUFFO0lBQzNDLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxBQUFDO0lBRTNDLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLGVBQWdCLE9BQU8sRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFO1FBQzVELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUU7WUFBQyxlQUFlO1NBQUMsQ0FBQyxDQUFDO1FBRTVELE9BQU8sTUFBTSxZQUFZLENBQUMsT0FBTyxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUNqRCxDQUFDO0NBQ0g7QUFFRCxlQUFlLFNBQVMsb0JBQW9CLENBQUMsR0FBaUIsRUFBRTtJQUM5RCxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNoQixDQUFBIn0=